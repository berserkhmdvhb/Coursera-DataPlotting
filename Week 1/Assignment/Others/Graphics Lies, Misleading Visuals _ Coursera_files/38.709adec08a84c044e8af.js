(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{"+iyI":function(module,exports,e){var t=e("bXea"),a;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},r=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},"+kmw":function(module,exports,e){},"/Srq":function(module,e,t){"use strict";var a=t("VbXa"),n=t.n(a),r=t("17x9"),i=t.n(r),s=t("q1tI"),o=t.n(s),l=t("8cuT"),c=t.n(l),d=t("F/us"),m=t.n(d),u=t("JsfK"),p=t("fAr5"),v=t("nLAy"),b=function(e){function PeerSubmissionFlagger(t,a){var n;return(n=e.call(this,t,a)||this).onClickButton=function(){n.setState({isModalOpen:!0})},n.onCloseModal=function(){n.setState({isModalOpen:!1})},n.onReportSubmission=function(e){var t=n.props,a=t.computedItem.id,r=t.courseId,i=t.submissionId;n.context.executeAction(v.a,{itemId:a,courseId:r,submissionId:i,report:e})},n.state={isModalOpen:!1},n}n()(PeerSubmissionFlagger,e);var t=PeerSubmissionFlagger.prototype;return t.componentWillReceiveProps=function componentWillReceiveProps(e){"flagging"===this.props.flagSubmissionState&&"flagged"===e.flagSubmissionState&&this.onCloseModal()},t.render=function render(){return o.a.createElement("div",{className:"rc-PeerSubmissionFlagger",style:{float:"right",paddingLeft:"8px"}},o.a.createElement(p.a,{onClick:this.onClickButton}),this.state.isModalOpen&&o.a.createElement(u.a,{onReportSubmission:this.onReportSubmission,onClose:this.onCloseModal,flagSubmissionState:this.props.flagSubmissionState,error:this.props.flagSubmissionError}))},PeerSubmissionFlagger}(o.a.Component);b.contextTypes={executeAction:i.a.func.isRequired},e.a=m.a.compose(c()(["PeerViewSubmissionStore"],function(e){var t=e.PeerViewSubmissionStore;return{flagSubmissionState:t.getState().flagSubmissionState,flagSubmissionError:t.getState().flagSubmissionError}}))(b)},"0HgF":function(module,e,t){"use strict";var a=t("VbXa"),n=t.n(a),r=t("q1tI"),i=t.n(r),s=t("+2ZD"),o=t("yhVA"),l=t.n(o),c=t("sQ/U"),d=t("5AUN"),m=t("gvD1"),u=t.n(m),p=function(e){function AdminDeletionConfirmModal(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).state={deleting:!1,deletionFailed:!1},t.handleRemoveGradeOverride=function(){t.setState({deleting:!0,deletionFailed:!1});var e=t.props,a=e.computedItem,n=e.courseId,r=e.submissionId,i;d.b({userId:c.a.get().id,itemId:a.id,courseId:n,submissionId:r}).then(function(e){t.props.handleDeleteSubmission(),t.props.handleClose()}).catch(function(e,a,n){t.setState({deletionFailed:!0,deleting:!1})})},t}var t;return n()(AdminDeletionConfirmModal,e),AdminDeletionConfirmModal.prototype.render=function render(){return i.a.createElement(s.a,{className:"rc-AdminDeletionConfirmModal",allowClose:!0,modalName:"AdminDeletionConfirmModal",type:"box",handleClose:this.props.handleClose},i.a.createElement("div",{className:"browser-alert-container horizontal-box align-items-absolute-center"},i.a.createElement("div",{className:"browser-alert"},l()("Browser Alert"))),i.a.createElement("div",null,i.a.createElement("div",{className:"confirm-question"},l()("Are you sure you want to delete this submission? This action cannot be reversed.")),i.a.createElement("div",{className:"horizontal-box align-items-absolute-center"},i.a.createElement("button",{className:"bt3-btn yes-button",onClick:this.handleRemoveGradeOverride},this.state.deleting?l()("Deleting"):l()("Yes")),i.a.createElement("button",{className:"bt3-btn",onClick:this.props.handleClose},l()("No")))),this.state.deletionFailed&&i.a.createElement("div",{className:"horizontal-box align-items-absolute-center"},l()("Can't delete now, please try again later"),"."))},AdminDeletionConfirmModal}(i.a.Component);e.a=p},"0Lal":function(module,exports,e){var t=e("3Rp1"),a;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},r=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},"0UBe":function(module,exports,e){var t=e("b+Nk"),a;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},r=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},"1G4o":function(module,e,t){"use strict";var a=t("q1tI"),n=t.n(a),r=t("eJMc"),i=t.n(r),s=t("BVC1"),o=t("yhVA"),l=t.n(o),c=function AssignmentSubmitBeforeReviewWarning(e){var t=e.computedItem,a={padding:16,margin:"12px 0px"};return n.a.createElement("div",{className:"rc-AssignmentSubmitBeforeReviewWarning"},n.a.createElement("div",{className:"bgcolor-warn-light color-warn-dark",style:a},l()("Submit your project before reviewing classmates.")),n.a.createElement("div",{className:"vertical-box align-items-vertical-center"},n.a.createElement(i.a,{to:s.a.join(t.resourcePath,"submit"),className:"link-button primary"},l()("Go to my project"))))};e.a=c},"2Rnz":function(module,exports,e){var t=e("KeXX"),a;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},r=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},"2dz7":function(module,exports,e){var t=e("s3t7"),a;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},r=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},"3JyZ":function(module,exports,e){},"3Rp1":function(module,exports,e){},"3v1K":function(module,e,t){"use strict";t.d(e,"a",function(){return O});var a=t("VbXa"),n=t.n(a),r=t("17x9"),i=t.n(r),s=t("q1tI"),o=t.n(s),l=t("37kS"),c=t.n(l),d=t("hbUA"),m=t("eJMc"),u=t.n(m),p=t("vf0s"),v=t("0HgF"),b=t("kvW3"),f=t("BVC1"),h=t("sMNq"),g=t("NXYo"),S=t("Zz7k"),E=t("AWZ4"),I=t("DnT3"),y=t.n(I),w=function(e){function PeerReviewAdminMessage(t,a){var n;return(n=e.call(this,t,a)||this).handleDeleteSubmission=function(){n.setState({isSubmissionDeleted:!0})},n.showOverrideTool=function(){n.setState({showOverrideTool:!0})},n.hideOverrideTool=function(){n.setState({showOverrideTool:!1})},n.showDeletionConfirm=function(){n.setState({showDeletionConfirm:!0})},n.hideDeletionConfirm=function(){n.setState({showDeletionConfirm:!1})},n.submitOverride=function(e,t){var a=n.props,r=a.computedItem,i=a.courseId;"loaded"===n.state.gradeOverrideDataState&&e>=0&&e<=100&&(n.setState({gradeOverrideDataState:"submittingOverride",gradeOverrideSubmittedOverride:{grade:e,explanation:t}}),h.a.updateOverride({learnerId:n.props.learnerId,courseId:i,itemId:r.id,grade:e/100,explanation:t}).then(function(){n.setState({gradeOverrideDataState:"loaded",gradeOverride:{grade:e,explanation:t},gradeOverrideSubmittedOverride:null,showOverrideTool:!1})}).catch(function(){n.setState({gradeOverrideDataState:"error",gradeOverrideSubmittedOverride:null})}))},n.removeOverride=function(){var e=n.props,t=e.computedItem,a=e.courseId;n.setState({gradeOverrideDataState:"removingOverride"}),h.a.removeOverride({learnerId:n.props.learnerId,courseId:a,itemId:t.id}).then(function(){n.setState({gradeOverrideDataState:"loaded",gradeOverride:null,showOverrideTool:!1})}).catch(function(){n.setState({gradeOverrideDataState:"error"})})},n.state={showOverrideTool:!1,showDeletionConfirm:!1,isSubmissionDeleted:t.isDeleted,gradeOverrideDataState:"idle",gradeOverride:null,gradeOverrideSubmittedOverride:null},n}n()(PeerReviewAdminMessage,e);var t=PeerReviewAdminMessage.prototype;return t.componentDidMount=function componentDidMount(){var e=this,t=this.props,a=t.computedItem,n=t.learnerId,r=t.courseId;this.setState({gradeOverrideDataState:"loading"}),h.a.getOverride({learnerId:n,courseId:r,itemId:a.id}).then(function(t){var a=t.elements[0],n=t.linked["userPublicProfiles.v1"][0],r=n&&n.fullName?n.fullName:"Anonymous";e.setState({gradeOverrideDataState:"loaded",gradeOverride:{grade:100*a.grade,isPassed:a.isPassed,explanation:a.explanation,overriderName:r}})}).catch(function(t){404===t.status?e.setState({gradeOverrideDataState:"loaded"}):e.setState({gradeOverrideDataState:"error"})})},t.renderGradeOverriddenMessage=function renderGradeOverriddenMessage(e){var t=c()("The grade for this submission has been adjusted to be passing at {gradePercent}\n        by {overriderName}."),a=c()("The grade for this submission has been adjusted to be not passing at {gradePercent}\n        by {overriderName}.");return o.a.createElement("strong",null,o.a.createElement(b.b,{message:e.isPassed?t:a,gradePercent:Object(d.b)(e.grade),overriderName:e.overriderName}))},t.renderOverrideMessage=function renderOverrideMessage(e,t){var a=this,n=c()("adjust the grade"),r=c()("adjust the grade again"),i=function renderOverrideToolLink(e){return o.a.createElement(E.b,{type:"link",size:"zero",rootClassName:"admin-action",onClick:a.showOverrideTool},e)},s=o.a.createElement(E.b,{type:"link",size:"zero",rootClassName:"admin-action",onClick:this.showDeletionConfirm},c()("delete the submission"));return e?t?o.a.createElement("div",null,this.renderGradeOverriddenMessage(e)," ","",c()("You may")," ",i(r),"."):o.a.createElement("div",null,this.renderGradeOverriddenMessage(e)," ","",c()("You may")," ",i(r)," or ","",s,"."):t?o.a.createElement("div",null,c()("Even though it has been deleted, as an administrator, you may")," ","",i(n)," ",c()("attributed to it"),"."):o.a.createElement("div",null,c()("As an administrator, you may")," ","",i(n)," or ",s,".")},t.renderAdminBox=function renderAdminBox(e){var t=o.a.createElement("div",null,o.a.createElement("span",{className:"bold-text"},c()("This submission was deleted. It is not available for other learners to review."))),a=this.context.router.location.pathname,n=f.a.join(a.split("/").slice(0,-1)),r=o.a.createElement("div",null,c()("To leave a review"),", ","",o.a.createElement(u.a,{to:n},c()("view this submission as a learner")),".");switch(this.state.gradeOverrideDataState){case"idle":case"loading":return o.a.createElement("div",null,c()("Loading..."));case"error":return o.a.createElement("div",null,c()("Error loading grade override information."));default:return o.a.createElement("div",null,this.state.isSubmissionDeleted&&t,this.renderOverrideMessage(e,this.state.isSubmissionDeleted),!this.state.isSubmissionDeleted&&r)}},t.render=function render(){var e=this.props,t=e.computedItem,a=e.courseId,n="submittingOverride"===this.state.gradeOverrideDataState?this.state.gradeOverrideSubmittedOverride:this.state.gradeOverride;return o.a.createElement("div",{className:"rc-PeerReviewAdminMessage bt3-alert"},o.a.createElement("div",{className:"horizontal-box"},o.a.createElement("div",{className:"kss-modifier--icon admin-warning-outer"},o.a.createElement("span",{className:"cif-warning admin-warning"})),o.a.createElement("div",{className:"flex-1"},this.renderAdminBox(n))),this.state.showOverrideTool&&o.a.createElement(p.a,{handleClose:this.hideOverrideTool,gradeOverrideDataState:this.state.gradeOverrideDataState,gradeOverride:n,submitOverride:this.submitOverride,removeOverride:this.removeOverride,computedItem:t}),this.state.showDeletionConfirm&&o.a.createElement(v.a,{courseId:a,handleClose:this.hideDeletionConfirm,computedItem:t,submissionId:this.props.submissionId,handleDeleteSubmission:this.handleDeleteSubmission}))},PeerReviewAdminMessage}(o.a.Component);w.propTypes={courseId:i.a.string.isRequired,computedItem:i.a.object.isRequired,isDeleted:i.a.bool,submissionId:i.a.string.isRequired,learnerId:i.a.number},w.contextTypes={router:i.a.object.isRequired};var O=function(e){function PeerReviewAdminMessageWithPermissions(){return e.apply(this,arguments)||this}var t;return n()(PeerReviewAdminMessageWithPermissions,e),PeerReviewAdminMessageWithPermissions.prototype.render=function render(){return o.a.createElement(g.a,{requestedCapability:S.e.reviewMentorGraded},o.a.createElement(w,this.props))},PeerReviewAdminMessageWithPermissions}(o.a.Component)},"4tl4":function(module,e,t){"use strict";var a=t("q1tI"),n=t.n(a),r=function PlainTextView(e){var t=e.submissionPart;return n.a.createElement("span",{className:"rc-PlainTextView"},t.plainText&&n.a.createElement("p",{className:"body-1-text",style:{whiteSpace:"pre-line",wordWrap:"break-word"}},t.plainText))};e.a=r},"4vcJ":function(module,exports,e){var t=e("os0A"),a;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},r=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},"5yOK":function(module,exports,e){},"6qFN":function(module,exports,e){var t=e("Ddld"),a;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},r=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},"6xos":function(module,e,t){"use strict";var a=t("VbXa"),n=t.n(a),r=t("17x9"),i=t.n(r),s=t("q1tI"),o=t.n(s),l=t("dcEN"),c=t.n(l),d=t("kvW3"),m=t("yhVA"),u=t.n(m),p=t("C3oq"),v=t.n(p),b=function(e){function MySubmissionHeader(){return e.apply(this,arguments)||this}var t;return n()(MySubmissionHeader,e),MySubmissionHeader.prototype.render=function render(){var e=this.props,t=e.title,a=e.createdAt,n=e.shareableLink;return o.a.createElement("div",{className:"rc-MySubmissionHeader bt3-clearfix"},o.a.createElement("div",{className:"headline-4-text"},t),o.a.createElement("div",{className:"horizontal-box"},!!a&&o.a.createElement("div",{className:"caption-text color-secondary-text"},o.a.createElement(d.b,{message:u()("Submitted on {creatorName}"),creatorName:c()(a).format("LL")})),n&&o.a.createElement("div",{className:"flex-1 align-right caption-text"},n)))},MySubmissionHeader}(o.a.Component);b.propTypes={title:i.a.string.isRequired,createdAt:i.a.number,shareableLink:i.a.element},e.a=b},"7Diq":function(module,e,t){"use strict";var a=t("VbXa"),n=t.n(a),r=t("q1tI"),i=t.n(r),s=t("NelE"),o=t("yhVA"),l=t.n(o),c=t("4vcJ"),d=t.n(c),m=function(e){function DisplayParts(){return e.apply(this,arguments)||this}var t;return n()(DisplayParts,e),DisplayParts.prototype.render=function render(){var e=this.props,t=e.reviewSchema,a=e.reviewsSummary,n=e.reviews,r=e.submissionSchemaPartId,o=e.submissionId,c=e.assignmentLevelPointsLabel,d=t.getPartsForSubmissionSchemaPart(r);if(0===d.length)return null;return i.a.createElement("div",{className:"rc-DisplayParts bgcolor-white"},i.a.createElement("div",{className:"title horizontal-box align-items-spacebetween label-text color-secondary-text"},i.a.createElement("span",null,null!=r?l()("Rubric"):l()("Overall Assignment Rubric")),i.a.createElement("span",null,null===r&&c)),i.a.createElement("div",{className:"body-1-text"},d.map(function(e){return i.a.createElement(s.a,{key:e.get("id"),reviewSchemaPart:e,reviewsSummary:a,reviews:n,submissionId:o})})))},DisplayParts}(i.a.Component);e.a=m},"8IbN":function(module,e,t){"use strict";var a=t("VbXa"),n=t.n(a),r=t("17x9"),i=t.n(r),s=t("q1tI"),o=t.n(s),l=t("yhVA"),c=t.n(l),d=t("BVC1"),m=t("NXYo"),u=t("Zz7k"),p=function(e){function ViewAsAdminButton(){return e.apply(this,arguments)||this}var t;return n()(ViewAsAdminButton,e),ViewAsAdminButton.prototype.render=function render(){return o.a.createElement(m.a,{requestedCapability:u.e.reviewMentorGraded},o.a.createElement("a",{href:this.context.router.location.pathname.indexOf("/review/")>-1?d.a.join(this.props.submissionId,"admin"):d.a.join("review",this.props.submissionId,"admin"),className:"link-button primary"},c()("View as Admin")))},ViewAsAdminButton}(o.a.Component);p.propTypes={submissionId:i.a.string},p.contextTypes={router:i.a.object},e.a=p},"9bdB":function(module,e,t){"use strict";var a=t("q1tI"),n=t.n(a),r=function AssignmentSuccessMessage(e){var t=e.children;return n.a.createElement("div",{className:"rc-AssignmentSuccessMessage horizontal-box flex-1 bgcolor-success-light color-success-dark",style:{margin:"12px 0px",padding:16}},t)};e.a=r},"9kyQ":function(module,e,t){"use strict";var a=t("VbXa"),n=t.n(a),r=t("q1tI"),i=t.n(r),s=t("J2aD"),o=t("eQF6"),l=t("yMmU"),c=t("h4VP"),d=t("C8lk"),m=t.n(d),u=function(e){function SubmissionBody(){return e.apply(this,arguments)||this}var t;return n()(SubmissionBody,e),SubmissionBody.prototype.render=function render(){var e=this.props,t=e.submission,a=e.submissionSchema,n=e.renderInlineNode,r=e.showAutoSubmittedNote;return i.a.createElement("div",{className:"rc-SubmissionBody"},a.parts.map(function(e){var a=null,d=!1;return t.parts&&t.parts[e.id]?a=t.parts[e.id]:(a=t.invalidParts[e.id],d=!0),i.a.createElement(o.a,{key:e.id},i.a.createElement(s.a,{submissionSchemaPart:e,submissionPart:a,isInvalid:d,showAutoSubmittedNote:r}),n&&i.a.createElement(l.a,{ariaLabel:c.c.getInnerText(e.prompt)},n(e.id)))}),n&&n(null)&&i.a.createElement(o.a,null,i.a.createElement(l.a,null,n(null))))},SubmissionBody}(i.a.Component);u.defaultProps={showAutoSubmittedNote:!1},e.a=u},BUkX:function(module,e,t){"use strict";t.d(e,"b",function(){return c}),t.d(e,"a",function(){return d});var a=t("jn80"),n=t("E4RX"),r=t("StP4"),i=t("Nher"),s=t("uhR6"),o=function onSubmitSuccess(e,t,a,o,l){return function(){e.executeAction(n.a,{courseId:o,refreshProgress:!0}),e.dispatch(s.a.REVIEW_SUBMISSION_SUBMITTED,{submissionId:t}),e.executeAction(i.b,{courseId:o}),e.executeAction(r.b,{courseSlug:l,refetch:!0})}},l=function onSubmitFailure(e,t){return function(a){var n=a.responseJSON||{};if("InvalidReview"===n.errorCode)e.dispatch(s.a.REVIEW_SUBMISSION_SUBMIT_ERROR,{submissionId:t,errorType:"invalid-review",reviewValidationErrors:n.details});else if("ReviewExists"===n.errorCode)e.dispatch(s.a.REVIEW_SUBMISSION_SUBMIT_ERROR,{submissionId:t,errorType:"review-exists"});else if(e.dispatch(s.a.REVIEW_SUBMISSION_SUBMIT_ERROR,{submissionId:t,errorType:"unknown"}),!a.responseJSON)throw a}},c=function submit(e,t){var n=t.itemId,r=t.submissionId,i=t.review,c=t.userId,d=t.courseId,m=t.courseSlug;return e.dispatch(s.a.REVIEW_SUBMISSION_SUBMITTING,{submissionId:r}),Object(a.a)(d,n,r,i).then(o(e,r,c,d,m)).catch(l(e,r))},d=function localUpdateReview(e,t){var a=t.submissionId,n=t.reviewSchemaPartId,r=t.change;e.dispatch(s.a.REVIEW_SUBMISSION_LOCAL_UPDATE_REVIEW,{submissionId:a,reviewSchemaPartId:n,change:r})}},C2np:function(module,e,t){"use strict";var a=t("q1tI"),n=t.n(a),r=t("yfD/"),i=t("zAEL"),s=t.n(i),o=t("GaC8"),l=t.n(o),c=function CommentSection(e){var t=e.computedItem,a=e.submissionId,i=e.courseId;return n.a.createElement("div",{className:"rc-CommentsSection card-rich-interaction cozy"},n.a.createElement(r.a,{courseId:i,itemId:t.id,submissionId:a}))};e.a=c},C3oq:function(module,exports,e){var t=e("lzz0"),a;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},r=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},C8lk:function(module,exports,e){var t=e("gpse"),a;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},r=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},D0TD:function(module,e,t){"use strict";var a=t("VbXa"),n=t.n(a),r=t("q1tI"),i=t.n(r),s=t("6xos"),o=t("OB1k"),l=t("/Srq"),c=t("kr0o"),d=t("qPyB"),m=t("sQ/U"),u=t("8cuT"),p=t.n(u),v=function(e){function SubmissionHeader(){return e.apply(this,arguments)||this}var t;return n()(SubmissionHeader,e),SubmissionHeader.prototype.render=function render(){var e=this.props,t=e.isAdminMode,a=e.computedItem,n=e.submission,r=e.creatorProfile,u=e.votes,p=e.courseId,v=r.userId,b;return m.a.get().id===v?i.a.createElement(s.a,{title:n.definition.title,createdAt:n.createdAt,shareableLink:i.a.createElement(d.a,{computedItem:a,submissionId:n.id})}):i.a.createElement(o.a,{isAdminMode:t,title:n.definition.title,createdAt:n.createdAt,creatorProfile:r,submissionId:n.id,reviewMetadata:i.a.createElement("div",null,i.a.createElement(l.a,{courseId:p,computedItem:a,submissionId:n.id}),i.a.createElement(c.a,{courseId:p,computedItem:a,submissionId:n.id,votes:u}))})},SubmissionHeader}(i.a.Component);e.a=p()(["CourseStore"],function(e){var t;return{courseId:e.CourseStore.getCourseId()}})(v)},Ddld:function(module,exports,e){},DnT3:function(module,exports,e){var t=e("5yOK"),a;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},r=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},EekH:function(module,exports,e){},GaC8:function(module,exports,e){var t=e("cdj3"),a;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},r=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},J1Ka:function(module,exports,e){},J2aD:function(module,e,t){"use strict";var a=t("VbXa"),n=t.n(a),r=t("q1tI"),i=t.n(r),s=t("w/1P"),o=t.n(s),l=t("beC1"),c=t("wPTH"),d=t("4tl4"),m=t("fiqM"),u=t("X/PO"),p=t("yMmU"),v=t("PNHL"),b=t("rlpc"),f=t("yhVA"),h=t.n(f),g=t("uVbM"),S=t.n(g),E=function(e){function SubmissionPartView(){return e.apply(this,arguments)||this}n()(SubmissionPartView,e);var t=SubmissionPartView.prototype;return t.renderSpecificPart=function renderSpecificPart(){var e=this.props,t=e.submissionPart,a=e.showAutoSubmittedNote;if(!t)return null;switch(t.typeName){case"plainText":return i.a.createElement(d.a,{submissionPart:t.definition});case"richText":return i.a.createElement(c.a,{submissionPart:t.definition});case"url":return i.a.createElement(b.a,{submissionPart:t.definition});case"fileUpload":return i.a.createElement(v.a,{submissionPart:t.definition});case"offPlatform":return a&&i.a.createElement(m.a,null);case"git":return i.a.createElement(u.a,{submissionPart:t.definition});default:return null}},t.render=function render(){var e=this.props,t=e.submissionSchemaPart,a=e.isInvalid,n=o()("rc-SubmissionPartView","bgcolor-white",{invalid:a});return i.a.createElement(p.a,null,i.a.createElement("div",{className:n},i.a.createElement("div",{className:"title label-text color-secondary-text"},h()("Prompt")),i.a.createElement("div",{className:"prompt caption-text color-secondary-text"},i.a.createElement(l.a,{content:t.prompt,assumeStringIsHtml:!0})),i.a.createElement("div",{className:"body-1-text scrollable"},this.renderSpecificPart()),a&&i.a.createElement("div",{className:"body-2-text color-danger"},"Invalid submission part")))},SubmissionPartView}(i.a.Component);E.defaultProps={isInvalid:!1,showAutoSubmittedNote:!1},e.a=E},JNIg:function(module,exports,e){},JsfK:function(module,e,t){"use strict";var a=t("W8MJ"),n=t.n(a),r=t("VbXa"),i=t.n(r),s=t("J2m7"),o=t.n(s),l=t("17x9"),c=t.n(l),d=t("q1tI"),m=t.n(d),u=t("w/1P"),p=t.n(u),v=t("kvW3"),b=t("+2ZD"),f=t("eJW0"),h=t.n(f),g=t("0Lal"),S=t.n(g),E=function getDefaultSkipReviewReasons(){return[{value:"incompleteSubmission",label:h()("The submission is incomplete")},{value:"inappropriateContent",label:h()("The submission contains inappropriate content")},{value:"plagiarism",label:h()("The submission contains plagiarized content")},{value:"other",label:h()("Other (please provide details below)")}]},I=function(e){function SubmissionFlaggerModal(t,a){var n;return(n=e.call(this,t,a)||this).onEvidenceChange=function(e){e.target instanceof HTMLTextAreaElement&&n.setState({evidence:e.target.value})},n.onReasonChange=function(e){if(e.target instanceof HTMLSelectElement){var t=e.target.value,a=o()(E(),function(e){return e.value===t});a&&n.setState({selectedReason:a.value})}},n.onSendReportButtonClick=function(e){e.preventDefault(),n.props.onReportSubmission({reason:n.state.selectedReason,evidence:n.state.evidence})},n.state={selectedReason:t.defaultReason,evidence:""},n}var t;return i()(SubmissionFlaggerModal,e),n()(SubmissionFlaggerModal,null,[{key:"defaultProps",get:function get(){return{defaultReason:"incompleteSubmission",reasons:E()}}}]),SubmissionFlaggerModal.prototype.render=function render(){var e=this.state.selectedReason,t=this.props,a=t.reasons,n=t.error,r=t.flagSubmissionState,i=p()("bt3-btn bt3-btn-warning c-modal-action-button",{"bt3-disabled":"flagging"===r});return m.a.createElement(b.a,{modalName:"SubmissionFlaggerModal",handleClose:this.props.onClose},m.a.createElement("div",{className:"rc-SubmissionFlaggerModal"},m.a.createElement("h3",{className:"c-modal-title subtitle"},h()("Flag this submission")),m.a.createElement("div",null,n&&n.responseJSON&&m.a.createElement("div",null,m.a.createElement("p",null,m.a.createElement(v.b,{message:h()("An error occurred submitting your report: #{errorMessage}"),errorMessage:n.responseJSON}))),m.a.createElement("div",null,m.a.createElement("form",null,m.a.createElement("div",{className:"field-container"},m.a.createElement("label",{htmlFor:"reason-selection"},h()("Select a reason:")),m.a.createElement("select",{id:"reason-selection",className:"field",disabled:"flagging"===r,value:e,onChange:this.onReasonChange},a.map(function(e){return m.a.createElement("option",{key:e.value,value:e.value},e.label)}))),m.a.createElement("div",{className:"field-container"},m.a.createElement("label",{htmlFor:"reason-field"},h()("Please explain or provide evidence below:")),m.a.createElement("textarea",{id:"reason-field",onChange:this.onEvidenceChange,className:"field",disabled:"flagging"===r})),m.a.createElement("div",{className:"c-modal-action-bar"},"flagging"===r&&m.a.createElement("span",null,h()("Submitting report...")),m.a.createElement("button",{className:i,onClick:this.onSendReportButtonClick},h()("Send report"))))))))},SubmissionFlaggerModal}(m.a.Component);I.propTypes={error:c.a.object,onClose:c.a.func.isRequired,onReportSubmission:c.a.func.isRequired,defaultReason:c.a.string.isRequired,reasons:c.a.arrayOf(c.a.object).isRequired,flagSubmissionState:c.a.string.isRequired},e.a=I},KIfn:function(module,e,t){"use strict";var a=t("VbXa"),n=t.n(a),r=t("q1tI"),i=t.n(r),s=t("EqTq"),o=t("ca6j"),l=t("8Ytk"),c=t("AWZ4"),d=t("yhVA"),m=t.n(d),u=t("sQ/U"),p=t("2Rnz"),v=t.n(p),b=Object(s.a)("CommentTextArea"),f=function(e){function CommentTextArea(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).state={},t.onChange=function(e){var a=e.target.value;t.setState({comment:a})},t.onPostClick=function(){var e=t.props.onPostingComment,a=t.state.comment;a&&e(a).then(function(){t.setState({comment:""})})},t}var t;return n()(CommentTextArea,e),CommentTextArea.prototype.render=function render(){var e=this.props.submissionId,t=this.state.comment;return i.a.createElement("div",{className:b()},i.a.createElement("div",{className:b("profile-image-container",void 0,"pii-hide")},i.a.createElement(o.a,{profile:{photoUrl:u.a.get().photo_120,fullName:u.a.get().fullName}})),i.a.createElement("div",{className:b("input-container")},i.a.createElement(l.a,{label:m()("Enter Peer Review comments"),value:t,componentId:"".concat(e,"~comment"),placeholder:m()("Share your thoughts..."),onChange:this.onChange}),t&&i.a.createElement("div",{className:b("button-container")},i.a.createElement(c.b,{type:"secondary",size:"sm",label:m()("Post"),onClick:this.onPostClick}))))},CommentTextArea}(i.a.Component);e.a=f},KeXX:function(module,exports,e){},LwsB:function(module,e,t){"use strict";var a=t("q1tI"),n=t.n(a),r=t("EqTq"),i=t("wd/R"),s=t.n(i),o=t("m10x"),l=t("ca6j"),c=t("sTn5"),d=t.n(c),m=Object(r.a)("CommentRow"),u=function CommentRow(e){var t=e.commentData,a=t.creator,r=t.comment;return n.a.createElement("div",{className:m()},n.a.createElement("div",{className:m("profile-image-container")},n.a.createElement(l.a,{profile:a})),n.a.createElement("div",{className:m("comment-container")},n.a.createElement("div",{className:m("name-and-time-container")},n.a.createElement(o.i,{rootClassName:m("full-name",void 0,"pii-hide")},a.fullName),n.a.createElement("div",{className:m("comment-time")},s()(r.createdAt).fromNow())),n.a.createElement("div",{className:m("comment-content")},r.comment.definition.comment)))};e.a=u},NVtM:function(module,e,t){"use strict";var a=t("q1tI"),n=t.n(a),r=t("5iHD"),i=t("OGqI"),s=t.n(i),o=function LightNotification(e){var t=e.translatedMsg;return n.a.createElement("div",{className:"rc-LightNotification"},n.a.createElement("div",{className:"icon"},n.a.createElement(r.a,{size:24,color:"white"})),n.a.createElement("span",{className:"message"},t))};e.a=o},NelE:function(module,e,t){"use strict";var a=t("q1tI"),n=t.n(a),r=t("oihH"),i=t("6qFN"),s=t.n(i),o=function DisplayPart(e){var t=e.reviewSchemaPart,a,i=Object(r.a)(t.get("typeName")).DisplayPart;return n.a.createElement("div",{className:"rc-DisplayPart"},n.a.createElement(i,e))};e.a=o},OB1k:function(module,e,t){"use strict";var a=t("VbXa"),n=t.n(a),r=t("17x9"),i=t.n(r),s=t("q1tI"),o=t.n(s),l=t("dcEN"),c=t.n(l),d=t("at5l"),m=t("8IbN"),u=t("kvW3"),p=t("0jv7"),v=t("yhVA"),b=t.n(v),f=t("b3MV"),h=t.n(f),g=function(e){function PeerSubmissionHeader(){return e.apply(this,arguments)||this}var t;return n()(PeerSubmissionHeader,e),PeerSubmissionHeader.prototype.render=function render(){var e=this.props,t=e.isAdminMode,a=e.title,n=e.createdAt,r=e.creatorProfile,i=e.submissionId,s=r.photoUrl||p.c;return o.a.createElement("div",{className:"rc-PeerSubmissionHeader bt3-clearfix"},!t&&o.a.createElement("div",{className:"bt3-pull-right"},o.a.createElement(m.a,{submissionId:i})),o.a.createElement("div",{className:"headline-4-text"},a),o.a.createElement("div",{className:"author-container horizontal-box"},o.a.createElement(d.a,{alt:b()("Photo of learner"),src:s}),o.a.createElement("div",{className:"metadata-area"},o.a.createElement("div",null,o.a.createElement(u.b,{className:"display-1-text pii-hide",message:b()("by {creatorName}"),creatorName:r.fullName})),o.a.createElement("div",null,o.a.createElement("span",{className:"caption-text color-secondary-text"},c()(n).format("LL")),t&&o.a.createElement("span",{className:"caption-text color-secondary-text",style:{marginLeft:12}},o.a.createElement(u.b,{className:"caption-text color-secondary-text",message:b()("User Id: {userId}"),userId:r.userId})))),o.a.createElement("div",{className:"actions-area align-right align-self-end flex-1"},this.props.reviewMetadata)))},PeerSubmissionHeader}(o.a.Component);g.propTypes={isAdminMode:i.a.bool.isRequired,title:i.a.string.isRequired,createdAt:i.a.number.isRequired,creatorProfile:i.a.object.isRequired,submissionId:i.a.string.isRequired,reviewMetadata:i.a.node.isRequired},e.a=g},OGqI:function(module,exports,e){var t=e("EekH"),a;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},r=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},OGt8:function(module,exports,e){var t=e("nhPj"),a;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},r=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},QRlR:function(module,e,t){"use strict";var a=t("lSNA"),n=t.n(a),r=t("VkAN"),i=t.n(r),s=t("q1tI"),o=t.n(s),l=t("w/1P"),c=t.n(l),d=t("PDuk"),m=t.n(d),u=t("lTCR"),p=t.n(u),v=t("oJmH"),b=t.n(v),f=t("zn7j"),h=t.n(f);function ownKeys(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(a),!0).forEach(function(t){n()(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function _templateObject(){var e=i()(["\n  query OnDemandCourseGradeItemPassingFractionsV1Query($branchItemId: String!) {\n    OnDemandCourseGradeItemPassingFractionsV1 @naptime {\n      get(id: $branchItemId) {\n        elements {\n          id\n          passingFraction\n        }\n      }\n    }\n  }\n"]);return _templateObject=function _templateObject(){return e},e}var g=function PassingThreshold(e){var t=e.loading,a=e.passingFraction,n=e.className;return o.a.createElement("div",{className:c()("rc-PassingThreshold","v2",n)},t?o.a.createElement("div",{className:"placeholder"}):"".concat(100*(a||0),"%"))},S=p()(_templateObject()),E=Object(v.graphql)(S,{options:function options(e){return{variables:{branchItemId:Object(d.tupleToStringKey)([e.courseBranchId,e.itemId])}}},props:function props(e){var t=e.data,a=e.ownProps,n=t||{},r=n.loading,i=n.OnDemandCourseGradeItemPassingFractionsV1,s,o=(i&&i.get&&i.get.elements&&i.get.elements[0]||{}).passingFraction;return _objectSpread(_objectSpread({},a),{},{loading:r,passingFraction:o})}});e.a=E(g)},"R/a6":function(module,exports,e){var t=e("TeQb"),a;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},r=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},Ru1s:function(module,e,t){"use strict";t.r(e),t.d(e,"comp",function(){return x}),t.d(e,"fluxibleContextConnector",function(){return P});var a=t("VbXa"),n=t.n(a),r=t("17x9"),i=t.n(r),s=t("q1tI"),o=t.n(s),l=t("8cuT"),c=t.n(l),d=t("F/us"),m=t.n(d),u=t("BVC1"),p=t("BUkX"),v=t("nLAy"),b=t("svVW"),f=t("1G4o"),h=t("L1vm"),g=t("dAof"),S=t("jsrg"),E=t("VMeS"),I=t("yhVA"),y=t.n(I),w=t("sQ/U"),O=function(e){function PeerItemReviewNext(t,a){var n;return(n=e.call(this,t,a)||this).handleReviewChange=function(e){return function(t){n.context.executeAction(p.a,{reviewSchemaPartId:e,change:t,submissionId:n.props.submissionId})}},n.handleReviewSubmit=function(){var e=n.props,t=e.computedItem,a=e.reviewSubmissionState,r=e.submissionId,i=e.courseId;n.setState({loadNextSubmission:!0}),a&&a.review&&n.context.executeAction(p.b,{itemId:t.id,review:a.review,submissionId:r,userId:w.a.get().id,courseId:i})},n.state={loadNextSubmission:!1},n}n()(PeerItemReviewNext,e);var t=PeerItemReviewNext.prototype;return t.componentWillReceiveProps=function componentWillReceiveProps(e){var t=this.props,a=t.computedItem,n=t.courseId,r;e.reviewSubmissionState&&"submitted"===e.reviewSubmissionState.submitState&&this.state.loadNextSubmission?(this.setState({loadNextSubmission:!1}),this.context.executeAction(v.c,{userId:w.a.get().id,courseId:n,itemId:a.id})):"loading"===this.props.loadState&&"none"===e.loadState&&this.context.router.push(u.a.join(a.resourcePath,"give-feedback"))},t.render=function render(){var e=this.props,t=e.loadState,a=e.submissionAndRelated,n=e.canReviewOthers,r=e.naptimeSubmission,i=e.naptimeSubmissionSchema,s=e.computedItem,l=e.courseId;if(!n)return o.a.createElement(f.a,{computedItem:s});if("loading"===t||"none"===t)return o.a.createElement("p",null,y()("Loading..."));if("loadError"===t)return o.a.createElement("p",null,y()("Error loading submission."));if("loaded"===t&&null!=a){var c=this.props,d=c.reviewSubmissionState,m=c.flaggedPreviousSubmission;return o.a.createElement(b.a,{courseId:l,computedItem:s,submission:a.submission,submissionSchema:a.submissionSchema,naptimeSubmission:r,naptimeSubmissionSchema:i,reviewSubmissionState:d,createdAt:a.submission.createdAt,creatorProfile:a.userProfiles[0],onReviewChange:this.handleReviewChange,onReviewSubmit:this.handleReviewSubmit,flaggedPreviousSubmission:m,isAdminMode:!1,isDeleted:a.isDeleted,votes:a.votes})}return null},PeerItemReviewNext}(o.a.Component);O.contextTypes={executeAction:i.a.func.isRequired,router:i.a.object.isRequired};var P=function fluxibleContextConnector(e,t){var a=t.computedItem,n=t.courseId,r=t.canReviewOthers,i=t.isOwnSubmission,s=t.loadState;r&&(i||"loaded"!==s)&&e.executeAction(v.c,{userId:w.a.get().id,courseId:n,itemId:a.id})},N=m.a.compose(h.a.createTrackedContainer(function(){return{namespace:{page:"peer_review_review_peers_detail"}}}),c()(["PeerViewSubmissionStore","PeerPermissionsAndProgressesStore"],function(e,t){var a=e.PeerViewSubmissionStore,n=e.PeerPermissionsAndProgressesStore;return{loadState:a.getState().loadState,havePermissionsLoaded:"loaded"===n.getState().loadState,reviewSubmissionState:a.getState().reviewSubmissionState,submissionAndRelated:a.getState().submissionAndRelated,naptimeSubmission:a.getState().naptimeSubmission,naptimeSubmissionSchema:a.getState().naptimeSubmissionSchema,submissionId:a.getState().submissionId,flaggedPreviousSubmission:a.getState().flaggedPreviousSubmission,canReviewOthers:m()(n.getState().capabilities||[]).contains("reviewPeers"),isOwnSubmission:a.getState().isOwnSubmission}}),Object(S.a)(function(e){return e.havePermissionsLoaded},o.a.createElement(E.a,{className:"rc-PeerItemReviewNext"})),Object(g.a)(P))(O);e.default=N;var x=O},TeQb:function(module,exports,e){},UUgi:function(module,exports,e){var t=e("qktA"),a;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},r=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},"X/PO":function(module,e,t){"use strict";var a=t("q1tI"),n=t.n(a),r=t("Ev5W"),i=function GitRepoView(e){var t=e.submissionPart;return n.a.createElement(r.a,{repositoryId:t.gitRepositoryId,launchRole:t.launchRole,courseId:t.courseId,itemId:t.itemId,learnerUserId:t.submitterUserId})};e.a=i},X8Cj:function(module,exports,e){var t=e("J1Ka"),a;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},r=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},Xb7y:function(module,e,t){"use strict";var a=t("VbXa"),n=t.n(a),r=t("17x9"),i=t.n(r),s=t("q1tI"),o=t.n(s),l=t("IDuc"),c=t("NXYo"),d=t("Zz7k"),m=t("37kS"),u=t.n(m),p=t("0UBe"),v=t.n(p),b=function FormError(e){var t;switch(e.errorType){case"invalid-review":return o.a.createElement("span",null,u()("You must fill in all the fields above."));case"review-exists":return o.a.createElement("span",null,u()('\n            You have already reviewed this submission. Click the "Peers to review" tab to get another\n            submission.\n          '));case"unknown":return o.a.createElement("span",null,u()("Error submitting. Please try again."));default:return o.a.createElement("noscript",null)}},f=function(e){function FormSubmit(){return e.apply(this,arguments)||this}var t;return n()(FormSubmit,e),FormSubmit.prototype.render=function render(){if(!this.props.reviewEditable)return null;var e=o.a.createElement("div",{className:"rc-FormSubmit"},o.a.createElement("div",null,o.a.createElement(l.a,{className:"primary",onClick:this.props.onSubmit,disabled:this.props.disabled,trackingName:"submit"},u()("Submit Review"))),o.a.createElement("div",null,o.a.createElement(b,{errorType:this.props.errorType})));return this.props.isMentorGraded?o.a.createElement(c.a,{requestedCapability:d.e.reviewMentorGraded},e):e},FormSubmit}(o.a.Component);f.propTypes={errorType:i.a.oneOf(["none","invalid-review","unknown"]).isRequired,disabled:i.a.bool.isRequired,reviewEditable:i.a.bool.isRequired,onSubmit:i.a.func.isRequired,isMentorGraded:i.a.bool},e.a=f},"Y08+":function(module,exports,e){var t=e("d0Hu"),a;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},r=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},"b+Nk":function(module,exports,e){},b3MV:function(module,exports,e){var t=e("JNIg"),a;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},r=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},bXea:function(module,exports,e){},bwIO:function(module,exports,e){},cdj3:function(module,exports,e){},d0Hu:function(module,exports,e){},eQF6:function(module,e,t){"use strict";var a=t("q1tI"),n=t.n(a),r=t("OGt8"),i=t.n(r),s=function SubmissionViewTable(e){var t=e.children;return n.a.createElement("div",{className:"rc-SubmissionViewTable"},t)};e.a=s},fAr5:function(module,e,t){"use strict";var a=t("q1tI"),n=t.n(a),r=t("q5zD"),i=t("yhVA"),s=t.n(i),o=function SubmissionFlaggerButton(e){var t=e.onClick;return n.a.createElement("button",{className:"rc-SubmissionFlaggerButton button-link",onClick:t},n.a.createElement("span",{className:"caption-text"},n.a.createElement(r.a,{name:"flag-o"}),n.a.createElement("span",{style:{paddingLeft:8}},s()("Flag this submission"))))};e.a=o},fSua:function(module,e,t){"use strict";var a=t("q1tI"),n=t.n(a),r=t("kvW3"),i=t("yhVA"),s=t.n(i),o=function PlagiarismMessage(){return n.a.createElement("div",null,n.a.createElement("p",null,n.a.createElement(r.b,{message:s()("Plagiarism is unacceptable in any academic environment and is a serious violation\n          of Coursera's Honor Code. We have removed any credit toward your course grade that you may\n          have received for this assignment, and your grade has been permanently overridden to zero.")})),n.a.createElement("p",null,n.a.createElement(r.b,{message:s()("Our learners come from many different academic backgrounds, and many are unfamiliar\n          with the academic standard for plagiarism. We fully understand that this violation of our\n          policies may have been a simple mistake. If this is the case, we ask that you review\n          {guidelines}, and follow them when submitting future assignments. Failure to do so may\n          result in more serious consequences, including removal from a course or from the Coursera\n          community."),guidelines:n.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"https://learner.coursera.help/hc/articles/209818863-Coursera-Honor-Code"},s()("these guidelines"))})))};e.a=o},fiqM:function(module,e,t){"use strict";var a=t("q1tI"),n=t.n(a),r=t("yhVA"),i=t.n(r),s=t("NVtM"),o=function OffPlatformView(){return n.a.createElement(s.a,{translatedMsg:i()("Follow the instructions to complete this activity. Your grade will be updated after review by course staff.")})};e.a=o},gpse:function(module,exports,e){},gvD1:function(module,exports,e){var t=e("bwIO"),a;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},r=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},jn80:function(module,e,t){"use strict";t.d(e,"a",function(){return s});var a=t("wiyT"),n=t.n(a),r=t("DnuM"),i=Object(r.a)("/api/onDemandPeerAuthoredReviews.v1",{type:"rest"}),s=function createReview(e,t,a,r){return n()(i.post("",{data:{peerSubmissionId:"".concat(e,"~").concat(t,"~").concat(a),review:r}}))}},kr0o:function(module,e,t){"use strict";var a=t("VbXa"),n=t.n(a),r=t("17x9"),i=t.n(r),s=t("q1tI"),o=t.n(s),l=t("q5zD"),c=t("kvW3"),d=t("IDuc"),m=t("nLAy"),u=t("yhVA"),p=t.n(u),v=t("Y08+"),b=t.n(v),f=function(e){function SubmissionLikeButton(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).toggleLike=function(){var e=t.props,a=e.computedItem.id,n=e.courseId,r=e.submissionId,i;e.votes.isUpvotedByUser?t.context.executeAction(m.e,{itemId:a,courseId:n,submissionId:r}):t.context.executeAction(m.b,{itemId:a,courseId:n,submissionId:r})},t}var t;return n()(SubmissionLikeButton,e),SubmissionLikeButton.prototype.render=function render(){var e=this.props.votes,t=p()("like"),a="heart-o";return e.upVotes>0&&(t=o.a.createElement(c.a,{message:p()("{likeCount} {likeCount, plural, =1 {like} other {likes}}"),likeCount:e.upVotes})),e.isUpvotedByUser&&(a="heart"),o.a.createElement("div",{className:"rc-SubmissionLikeButton"},o.a.createElement(d.a,{className:"button-link",onClick:this.toggleLike,trackingName:"like",data:{unlike:e.isUpvotedByUser}},o.a.createElement("span",{className:"caption-text"},o.a.createElement(l.a,{name:a,className:"like-heart"}),t)))},SubmissionLikeButton}(o.a.Component);f.contextTypes={executeAction:i.a.func.isRequired},e.a=f},lzz0:function(module,exports,e){},ne3I:function(module,exports,e){},nhPj:function(module,exports,e){},onZ3:function(module,e,t){"use strict";var a=t("q1tI"),n=t.n(a),r=t("NXYo"),i=t("Zz7k"),s=t("pG9O"),o=t("+iyI"),l=t.n(o),c=t("yhVA"),d=t.n(c),m=function FormParts(e){var t=e.disabled,a=e.isMentorGraded,o=e.reviewSchema,l=e.review,c=e.submissionSchemaPartId,m=e.submissionId,u=e.submission,p=e.onChange,v=e.reviewValidationErrors,b=o.getPartsForSubmissionSchemaPart(c),f=n.a.createElement("div",{className:"rc-FormParts"},n.a.createElement("div",{className:"title label-text color-secondary-text"},null!=c?d()("Rubric"):d()("Overall Assignment Rubric")),b.map(function(e){var a=l[e.get("id")];if(!a)return null;var r=v&&v.partsSummary[e.get("id")];return n.a.createElement(s.a,{key:e.get("id"),disabled:t,reviewSchemaPart:e,reviewPart:a,onChange:p&&p(e.get("id")),validationError:r,submissionId:m,submission:u})}));return 0===b.length?null:a?n.a.createElement(r.a,{requestedCapability:i.e.reviewMentorGraded},f):f};e.a=m},os0A:function(module,exports,e){},pG9O:function(module,e,t){"use strict";var a=t("q1tI"),n=t.n(a),r=t("oihH"),i=t("mk7w"),s=t("UUgi"),o=t.n(s),l=function FormPart(e){var t=e.reviewSchemaPart,a=e.validationError,s,o=Object(r.a)(t.get("typeName")).FormPart;return n.a.createElement("div",{className:"rc-FormPart body-1-text"},n.a.createElement(o,e),n.a.createElement(i.a,{validationError:a}))};e.a=l},qPyB:function(module,e,t){"use strict";var a=t("VbXa"),n=t.n(a),r=t("q1tI"),i=t.n(r),s=t("eJMc"),o=t.n(s),l=t("sQ/U"),c=t("BVC1"),d=t("DnuM"),m=t("hbUA"),u=t("yhVA"),p=t.n(u),v=Object(d.a)("/api/onDemandPeerSubmissions.v1",{type:"rest"}),b=function(e){function PeerItemShareableLink(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).state={showLink:!1},t}n()(PeerItemShareableLink,e);var t=PeerItemShareableLink.prototype;return t.componentDidMount=function componentDidMount(){var e=this,t=this.props.computedItem;v.post("?action=disableUrlSharing&userId=".concat(l.a.get().id,"&courseId=").concat(t.courseId),{data:{}}).then(function(t){!1===t&&e.setState({showLink:!0})})},t.render=function render(){var e=this.props,t=e.computedItem,a=e.submissionId,n=this.state.showLink;if(Object(m.q)(t)||!n)return null;var r=c.a.join([t.resourcePath,"review",a]);return i.a.createElement(o.a,{to:r,className:"rc-PeerItemShareableLink"},p()("Shareable Link"))},PeerItemShareableLink}(i.a.Component);e.a=b},qktA:function(module,exports,e){},rS6E:function(module,exports,e){},rYuA:function(module,exports,e){},s3t7:function(module,exports,e){},sMNq:function(module,e,t){"use strict";var a=t("wiyT"),n=t.n(a),r=t("DnuM"),i=t("PDuk"),s=t.n(i),o=Object(r.a)("",{type:"rest"}),l="/api/onDemandCourseGradeItemOutcomeOverrides.v1/";e.a={getOverride:function getOverride(e){var t=s.a.tupleToStringKey([e.learnerId.toString(),e.courseId,e.itemId]),a,r=l+t+"?fields=grade,isPassed,explanation,userPublicProfiles.v1(fullName)&includes=publicProfiles";return n()(o.get(r))},updateOverride:function updateOverride(e){var t=s.a.tupleToStringKey([e.learnerId.toString(),e.courseId,e.itemId]),a=l+t;return n()(o.put(a,{data:{grade:e.grade,isPassed:e.isPassed,explanation:e.explanation}}))},removeOverride:function removeOverride(e){var t=s.a.tupleToStringKey([e.learnerId.toString(),e.courseId,e.itemId]),a=l+t;return n()(o.delete(a))}}},sTn5:function(module,exports,e){var t=e("3JyZ"),a;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},r=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},svVW:function(module,e,t){"use strict";var a=t("VbXa"),n=t.n(a),r=t("EqTq"),i=t("hbUA"),s=t("q1tI"),o=t.n(s),l=t("sOkY"),c=t("9bdB"),d=t("C2np"),m=t("onZ3"),u=t("7Diq"),p=t("Xb7y"),v=t("sQ/U"),b=t("9kyQ"),f=t("D0TD"),h=t("3v1K"),g=t("yhVA"),S=t.n(g),E=t("X8Cj"),I=t.n(E),y=Object(r.a)("SubmittedSubmissionView"),w=function(e){function PeerPublicSubmissionView(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).renderFormParts=function(e){var a=t.props,n=a.reviewSubmissionState,r=a.isAdminMode,s=a.computedItem,l=a.submission,c=a.onReviewChange,d=n.backboneReviewSchema,p=n.review,v;if(0===d.getPartsForSubmissionSchemaPart(e).length)return null;return t.showDisplayPartsOnly()?o.a.createElement(u.a,{reviewSchema:d,reviews:t.getReviews(),submissionSchemaPartId:e,submissionId:l.id}):null!=p?o.a.createElement(m.a,{disabled:t.isFormDisabled(),reviewSchema:d,review:p.parts,submissionSchemaPartId:e,onChange:c,isMentorGraded:Object(i.q)(s)||r,submissionId:l.id,reviewValidationErrors:n.reviewValidationErrors}):null},t.renderAdminMessage=function(){var e=t.props,a=e.courseId,n=e.isAdminMode,r=e.computedItem,i=e.submission,s=e.isDeleted,l=e.creatorProfile;return n?o.a.createElement(h.a,{courseId:a,computedItem:r,submissionId:i.id,isDeleted:s,learnerId:l.userId}):o.a.createElement("noscript",null)},t}n()(PeerPublicSubmissionView,e);var t=PeerPublicSubmissionView.prototype;return t.getReviews=function getReviews(){var e=this.props,t=e.isAdminMode,a,n=e.reviewSubmissionState.backboneReviews;if(t)return n;return[]},t.showDisplayPartsOnly=function showDisplayPartsOnly(){var e=this.props,t=e.isAdminMode,a=e.creatorProfile.userId;return t||a===v.a.get().id},t.isFormDisabled=function isFormDisabled(){var e=this.props.reviewSubmissionState.submitState;return"submitting"===e||"submitted"===e},t.render=function render(){var e=this.props,t=e.computedItem,a=e.submission,n=e.reviewSubmissionState,r=e.isAdminMode,s=e.flaggedPreviousSubmission,m=e.isDeleted,u=e.creatorProfile,v=e.votes,h=e.courseId,g=e.naptimeSubmission,E=e.naptimeSubmissionSchema,I=e.onReviewSubmit,w,O=t.isGraded&&!Object(i.z)(t)?function(){return null}:this.renderFormParts;return o.a.createElement(l.a,{trackingName:"render",className:y(void 0,{isAdminMode:r}),trackClicks:!1,requireFullyVisible:!1,data:{submission_id:a.id},withVisibilityTracking:!0},this.renderAdminMessage(),s&&o.a.createElement(c.a,null,S()("The previous submission was successfully flagged. You can review a different submission below.")),o.a.createElement(f.a,{isAdminMode:r,computedItem:t,submission:a,creatorProfile:u,votes:v}),o.a.createElement(b.a,{submission:g,submissionSchema:E,renderInlineNode:O}),!this.showDisplayPartsOnly()&&o.a.createElement(p.a,{disabled:this.isFormDisabled(),errorType:n.errorType||"none",reviewEditable:"submitted"!==n.submitState,onSubmit:I}),null!=a.id&&!m&&o.a.createElement(d.a,{computedItem:t,courseId:h,submissionId:a.id}))},PeerPublicSubmissionView}(o.a.Component);e.a=w},tIGN:function(module,e,t){"use strict";var a=t("VbXa"),n=t.n(a),r=t("q1tI"),i=t.n(r),s=t("8cuT"),o=t.n(s),l=t("1Vhl"),c=t("QRlR"),d=t("fSua"),m=t("PJ/k"),u=t.n(m),p=t("yhVA"),v=t.n(p),b=t("2dz7"),f=t.n(b),h=function(e){function AdminViewGradeOverride(t){var a;if((a=e.call(this,t)||this).handleGradeInputChange=function(e){a.setState({grade:e})},a.handleExplanationChange=function(e){a.setState({isForPlagiarism:"Plagiarism"===e.target.value})},a.handleCustomExplanationChange=function(e){a.setState({customExplanation:e.target.value})},a.submitOverride=function(){var e=a.state.isForPlagiarism?"Plagiarism":a.state.customExplanation;a.props.submitOverride(a.state.grade,e)},a.props.gradeOverride){var n="Plagiarism"===a.props.gradeOverride.explanation,r=n?"":a.props.gradeOverride.explanation;a.state={grade:a.props.gradeOverride.grade,isForPlagiarism:n,customExplanation:r}}else a.state={grade:0,isForPlagiarism:!0,customExplanation:""};return a}n()(AdminViewGradeOverride,e);var t=AdminViewGradeOverride.prototype;return t.isInputEnabled=function isInputEnabled(){return"loaded"===this.props.gradeOverrideDataState},t.renderNoteForPlagiarism=function renderNoteForPlagiarism(){return i.a.createElement("div",{className:"details"},i.a.createElement("div",{className:"learners-note"},v()("Learners will see this message:")),i.a.createElement(d.a,null))},t.renderNoteForOtherReason=function renderNoteForOtherReason(){var e=!this.isInputEnabled();return i.a.createElement("div",{className:"details"},i.a.createElement("div",{className:"learners-note"},v()("Learners will see this message:")),i.a.createElement("div",null,i.a.createElement("textarea",{className:"explanation",onChange:this.handleCustomExplanationChange,disabled:e,value:this.state.customExplanation})))},t.renderMainContent=function renderMainContent(){var e=this.props,t=e.branchId,a=e.itemId,n=i.a.createElement(m.Tooltip,{className:"rc-AdminViewGradeOverride-button-revert-tooltip"},v()("Restore original grade. Any admin overrides will be removed.")),r=!this.isInputEnabled();return i.a.createElement("div",{className:"authoring-type"},i.a.createElement("div",{className:"horizontal-box input-row"},i.a.createElement("div",{className:"input-label"},v()("Score")),i.a.createElement("div",{className:"flex-1"},i.a.createElement(l.a,{initialValue:this.state.grade,min:0,max:100,width:50,height:35,allowDecimal:!1,allowNegative:!1,onChange:this.handleGradeInputChange,disabled:r}),"%",i.a.createElement("div",{className:"details passing-threshold"},v()("Passing Threshold:"),"   ",i.a.createElement(c.a,{courseBranchId:t,itemId:a})),(this.state.grade<0||this.state.grade>100)&&i.a.createElement("span",{className:"alertMessageMargin"},v()("Grade needs to be a number in between 0 and 100, inclusive.")))),i.a.createElement("div",{className:"horizontal-box input-row"},i.a.createElement("div",{className:"input-label"},v()("Reason:")),i.a.createElement("div",{className:"flex-1"},i.a.createElement("div",{className:"horizontal-box"},i.a.createElement("input",{id:"rc-AdminViewGradeOverride-plagiarism",name:"explanation",type:"radio",value:"Plagiarism",className:"option-radio",onChange:this.handleExplanationChange,checked:this.state.isForPlagiarism,disabled:r}),i.a.createElement("label",{htmlFor:"rc-AdminViewGradeOverride-plagiarism",className:"label-radio"}),i.a.createElement("div",{className:"radioPadding flex-1"},i.a.createElement("span",null,v()("Plagiarism")),this.state.isForPlagiarism&&this.renderNoteForPlagiarism())),i.a.createElement("div",{className:"horizontal-box"},i.a.createElement("input",{id:"rc-AdminViewGradeOverride-other",name:"explanation",type:"radio",value:"Other",className:"option-radio",onChange:this.handleExplanationChange,checked:!this.state.isForPlagiarism,disabled:r}),i.a.createElement("label",{htmlFor:"rc-AdminViewGradeOverride-other",className:"label-radio"}),i.a.createElement("div",{className:"radioPadding flex-1"},i.a.createElement("span",null,v()("Other")),!this.state.isForPlagiarism&&this.renderNoteForOtherReason())))),i.a.createElement("div",{className:"horizontal-box align-items-right"},!!this.props.gradeOverride&&i.a.createElement(m.OverlayTrigger,{placement:"bottom",overlay:n,delayShow:0},i.a.createElement("button",{className:"bt3-btn",onClick:this.props.removeOverride,disabled:r,type:"button"},"removingOverride"===this.props.gradeOverrideDataState?v()("Reverting..."):v()("Revert"))),i.a.createElement("div",{className:"horizontal-box flex-1 align-items-right"},i.a.createElement("button",{className:"bt3-btn bt3-btn-primary button-save",onClick:this.submitOverride,disabled:r,type:"button"},"submittingOverride"===this.props.gradeOverrideDataState?v()("Saving..."):v()("Save")))),i.a.createElement("div",{className:"horizontal-box align-items-right"},"error"===this.props.gradeOverrideDataState&&i.a.createElement("span",null,v()("Problem connecting to server. Try again later."))))},t.render=function render(){return i.a.createElement("div",{className:"rc-AdminViewGradeOverride"},i.a.createElement("h3",null,v()("Override Grade")),this.renderMainContent())},AdminViewGradeOverride}(i.a.Component);e.a=o()(["SessionStore"],function(e){var t;return{branchId:e.SessionStore.getBranchId()}})(h)},tfTN:function(module,exports,e){var t=e("zQFs"),a;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},r=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},uVbM:function(module,exports,e){var t=e("rS6E"),a;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},r=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},vf0s:function(module,e,t){"use strict";var a=t("q1tI"),n=t.n(a),r=t("+2ZD"),i=t("tIGN"),s=t("ya0v"),o=t.n(s),l=function AdminViewGradeOverrideModal(e){var t=e.computedItem,a=e.handleClose,s=e.gradeOverrideDataState,o=e.gradeOverride,l=e.submitOverride,c=e.removeOverride;return n.a.createElement(r.a,{className:"rc-AdminViewGradeOverrideModal",allowClose:!0,modalName:"AdminViewGradeOverrideModal",type:"box",handleClose:a},n.a.createElement(i.a,{gradeOverrideDataState:s,gradeOverride:o,submitOverride:l,removeOverride:c,itemId:t.id}))};e.a=l},yMmU:function(module,e,t){"use strict";var a=t("q1tI"),n=t.n(a),r=t("tfTN"),i=t.n(r),s=t("eJW0"),o=t.n(s),l=function SubmissionViewCell(e){var t=e.children,a=e.ariaLabel;return t?n.a.createElement("div",{className:"rc-SubmissionViewCell",role:"region","aria-label":a&&o()("Review prompt: #{ariaLabel}",{ariaLabel:a})},t):null};e.a=l},ya0v:function(module,exports,e){var t=e("+kmw"),a;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},r=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},"yfD/":function(module,e,t){"use strict";var a=t("lSNA"),n=t.n(a),r=t("VbXa"),i=t.n(r),s=t("q1tI"),o=t.n(s),l=t("17x9"),c=t.n(l),d=t("q3BH"),m=t("yhVA"),u=t.n(m),p=t("sQ/U"),v=t("EqTq"),b=t("yuQ2"),f=t("KIfn"),h=t("LwsB"),g=t("R/a6"),S=t.n(g);function ownKeys(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(a),!0).forEach(function(t){n()(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var E=Object(v.a)("CommentsContainer"),I={LOADING:"LOADING",LOAD_ERROR:"LOAD_ERROR",SUBMITING:"SUBMITING",SUBMIT_ERROR:"SUBMIT_ERROR",READY:"READY"},y=function getNetworkStatusString(e){var t;return{LOADING:u()("Loading..."),LOAD_ERROR:u()("Load error!"),SUBMITING:u()("Submitting..."),SUBMIT_ERROR:u()("Submit error!")}[e]},w=function(e){function CommentsContainer(){for(var t,a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={commentRowData:[],networkState:I.READY},t.onCommentFetchSuccess=function(e){var a=e.comments,r,i=e.userProfiles.reduce(function(e,t){return _objectSpread(_objectSpread({},e),{},n()({},t.userId,t))},{});t.setState({commentRowData:a.map(function(e){return{comment:e,creator:i[e.creatorId]}}),networkState:I.READY})},t.onPostingComment=function(e){var a=t.props,n=a.courseId,r=a.itemId,i=a.submissionId,s=t.context._eventData;return t.setState({networkState:I.SUBMITING}),Object(b.b)({comment:{typeName:"plain",definition:{comment:e}},courseId:n,itemId:r,submissionId:i}).then(function(){d.a.trackComponent(s,{comment_user_id:p.a.get().id,comment:e},"click","post")}).catch(function(){t.setState({networkState:I.SUBMIT_ERROR})}).then(t.fetchComments)},t.fetchComments=function(){var e=t.props,a=e.courseId,n=e.itemId,r=e.submissionId;return Object(b.a)({userId:p.a.get().id,courseId:a,itemId:n,submissionId:r}).then(t.onCommentFetchSuccess).catch(function(){t.setState({networkState:I.LOAD_ERROR})})},t}i()(CommentsContainer,e);var t=CommentsContainer.prototype;return t.componentDidMount=function componentDidMount(){this.setState({networkState:I.LOADING}),this.fetchComments()},t.componentDidUpdate=function componentDidUpdate(e){var t=this.props,a=t.courseId,n=t.itemId,r=t.submissionId;e.courseId===a&&e.itemId===n&&e.submissionId===r||this.fetchComments()},t.render=function render(){var e=this.props.submissionId,t=this.state,a=t.commentRowData,n=t.networkState;return o.a.createElement("div",{className:E()},n!==I.READY&&o.a.createElement("p",null,y(n)),o.a.createElement("h3",{className:E(void 0,void 0,"headline-1-text")},u()("Comments")),o.a.createElement("p",{className:E(void 0,void 0,"caption-text")},u()("Comments left for the learner are visible only to that learner and the person who left the comment.")),o.a.createElement("div",{className:E("input-section")},o.a.createElement(f.a,{submissionId:e,onPostingComment:this.onPostingComment})),o.a.createElement("div",{className:E("comments")},a.map(function(e){return o.a.createElement(h.a,{commentData:e,key:"".concat(e.comment.createdAt,"~").concat(e.comment.creatorId)})})))},CommentsContainer}(o.a.Component);w.contextTypes={_eventData:c.a.object},e.a=w},yuQ2:function(module,e,t){"use strict";t.d(e,"a",function(){return d}),t.d(e,"b",function(){return m});var a=t("wiyT"),n=t.n(a),r=t("fw5G"),i=t.n(r),s=t("DnuM"),o=Object(s.a)("/api/onDemandPeerComments.v1",{type:"rest"}),l="onDemandSocialProfiles.v1",c=["comment","attachedAssignmentId","creatorId","createdAt","peerSubmissionId","".concat(l,"(userId,externalUserId,fullName,photoUrl,courseRole)")],d=function getComments(e){var t=e.userId,a=e.courseId,r=e.itemId,s=e.submissionId,d=(new i.a).addQueryParam("q","submission").addQueryParam("userId",t.toString()).addQueryParam("peerSubmissionId","".concat(a,"~").concat(r,"~").concat(s)).addQueryParam("fields",c.join(",")).addQueryParam("includes","profiles");return n()(o.get(d.toString())).then(function(e){return{comments:e.elements,userProfiles:e.linked[l]}})},m=function submitComment(e){var t=e.courseId,a=e.itemId,r=e.submissionId,s=e.comment,d=(new i.a).addQueryParam("fields",c.join(",")).addQueryParam("includes","profiles");return n()(o.post(d.toString(),{data:{comment:s,peerSubmissionId:"".concat(t,"~").concat(a,"~").concat(r)}})).then(function(e){return{comments:e.elements,userProfiles:e.linked[l]}})}},zAEL:function(module,exports,e){var t=e("rYuA"),a;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},r=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},zQFs:function(module,exports,e){},zn7j:function(module,exports,e){var t=e("ne3I"),a;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},r=e("aET+")(t,n);t.locals&&(module.exports=t.locals)}}]);
//# sourceMappingURL=38.709adec08a84c044e8af.js.map