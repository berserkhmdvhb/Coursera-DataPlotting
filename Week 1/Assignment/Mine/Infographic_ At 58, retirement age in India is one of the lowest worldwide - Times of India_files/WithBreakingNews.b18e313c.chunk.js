(window.webpackJsonp=window.webpackJsonp||[]).push([[125],{753:function(t,e,n){"use strict";n.r(e);var o=n(20),i=n.n(o),r=(n(10),n(150)),a=n(514),c=n(30),s=n(73);function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,o)}return n}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var f=function(t){return"toi/".concat("breakingNews","/").concat(t)},d=f("RECEIVE_DATA"),p=f("HANDLE_DATA_ERROR");function m(t){return function(e){return function(t){var e=t.isTest?"https://toidev.indiatimes.com/feed_breakingnews/feedtype-json.cms":"https://toibnews.timesofindia.indiatimes.com/Election/election2017_breakingnews.htm";return s.a.get(e)}(t).then(function(t){return e(function(t){return{type:d,payload:t}}(t.data))}).catch(function(t){return e(function(t){return{type:p,error:t}}(t))})}}c.a.register("breakingNews",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case d:return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach(function(e){l(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},t,{data:e.payload});default:return t}});var y,h=n(510),b=n.n(h),v=n(508),g=n(995),w=n.n(g),_=n(152);function k(t){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function S(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O(t,e,n,o){y||(y="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=t&&t.defaultProps,r=arguments.length-3;if(e||0===r||(e={children:void 0}),1===r)e.children=o;else if(r>1){for(var a=new Array(r),c=0;c<r;c++)a[c]=arguments[c+3];e.children=a}if(e&&i)for(var s in i)void 0===e[s]&&(e[s]=i[s]);else e||(e=i||{});return{$$typeof:y,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}function C(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function j(t,e){return!e||"object"!==k(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function N(t){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function A(t,e){return(A=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var P=O("button",{href:""}),T=O("button",{}),D=O("span",{},void 0,"Breaking ",O("span",{},void 0," News")),E=O("i",{}),W=O("div",{}),B=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=j(this,N(e).call(this,t))).isIE=function(){return!!(document.documentMode||/Edge/.test(navigator.userAgent)||navigator.userAgent.indexOf("Trident")>-1)},n.nextBreakingNews=function(t){n.state.CurrentStory+1<=n.state.NumberOfStories-1&&(t.preventDefault(),n.setState({CurrentStory:n.state.CurrentStory+1},function(){n.callAnimation()}))},n.prevBreakingNews=function(t){n.state.CurrentStory>0&&(t.preventDefault(),n.setState({CurrentStory:n.state.CurrentStory-1},function(){n.callAnimation()}))},n.pauseBreakingNews=function(t){"enable"===n.state.tickerControlStatus&&(t.preventDefault(),n.timeout_news&&clearTimeout(n.timeout_news),n.timeout_addAnimation&&clearTimeout(n.timeout_addAnimation),n.setState({animation:"paused"}))},n.callAnimation=function(){"enable"===n.state.tickerControlStatus&&n.startAnimation()},n.playBreakingNews=function(t){t.preventDefault(),n.setState({animation:"playing"},function(){n.callAnimation()})},n.IncreasewidthAnimation=function(t,e){var o=t+6;n.tickerConatinerRef&&n.tickerConatinerRef.current&&(n.tickerConatinerRef.current.style.width="".concat(o,"px")),n.timeout_length=setTimeout(function(){n.IncreasewidthAnimation(o,e)},e)},n.clearAllAnimations=function(){n.setState({ticker_anim:"no_anim"}),n.timeout_addAnimation&&clearTimeout(n.timeout_addAnimation),n.timeout_length&&clearTimeout(n.timeout_length),n.timeout_length_call&&clearTimeout(n.timeout_length_call),n.timeout_news&&clearTimeout(n.timeout_news)},n.hideBreakingNews=function(){n.setState({hide:!0})},n.closeWidget=function(t){n.props.closeWidget(t),Object(a.a)({data:{gaCategory:"ATF_breaking_news_bar",gaAction:"click",gaLabel:"close_icon"}})};var o=Object(_.a)()?"mobile":"desktop",r=t.data.length>1?"enable":"disable";return n.tickerConatinerRef=i.a.createRef(),n.state={ticker_class:"ticker__item",ticker_anim:"no_anim",story:t.data[0].title||"",storyLink:t.data[0].link||"",CurrentStory:0,tickerControlStatus:r,NumberOfStories:t.data.length||0,StoriesArray:t.data||[],device:o,animation:"playing",hide:!1},n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&A(t,e)}(e,i.a.Component),n=e,(o=[{key:"componentDidMount",value:function(){this.startAnimation()}},{key:"startAnimation",value:function(){var t=this;this.clearAllAnimations();var e,n=this.state,o=n.StoriesArray,i=n.NumberOfStories,r=n.device,a=n.animation,c=this.state.CurrentStory;(c<0||c>=i)&&(this.setState({CurrentStory:0}),c=0),this.setState({story:o[c].title,storyLink:o[c].link});var s=(this.isIE(),40);e=50*o[c].title.length+4e3,"desktop"===r&&(this.timeout_length_call=setTimeout(function(){t.IncreasewidthAnimation(0,s)},0),e>=5e3&&(this.timeout_addAnimation=setTimeout(function(){t.setState({ticker_anim:"add_anim_ticker"})},4e3))),"playing"===a&&this.loadNextStry(c,e)}},{key:"loadNextStry",value:function(t,e){var n=this;this.timeout_news=setTimeout(function(){n.setState({CurrentStory:t+1},function(){n.startAnimation()})},e)}},{key:"render",value:function(){var t=this,e=this.props,n=e.data,o=e.addWrapper;if(n){var r,a,c,s="".concat(w.a[this.state.ticker_class]," ").concat(w.a[this.state.ticker_anim]),u="".concat(w.a[this.state.tickerControlStatus]),l=0===this.state.CurrentStory?"disable":"enable",f=this.state.CurrentStory===this.state.NumberOfStories-1?"disable":"enable";c=this.state.storyLink?O(v.a,{to:this.state.storyLink,"data-ga":"ATF_breaking_news_bar|title_click|".concat(this.state.storyLink)},void 0,this.state.story):"".concat(this.state.story),a="playing"===this.state.animation?O("li",{className:"".concat(w.a["jnt-play-pause"]),onClick:this.pauseBreakingNews},void 0,P):O("li",{className:"".concat(w.a["jnt-play-pause"]," ").concat(w.a.paused),onClick:this.playBreakingNews},void 0,T);var d=b()((S(r={},"".concat(w.a["breaking-news"]),!0),S(r,"contentwrapper",!o),S(r,"".concat(w.a.wrapper),o),S(r,"".concat(w.a[this.state.device]),!0),S(r,"".concat(w.a.hide),this.state.hide),S(r,"".concat(w.a.red_theme),"redTheme"===this.props.theme),r)),p=O(i.a.Fragment,{},void 0,O("div",{className:w.a["ticker-title"]},void 0,D),Object(_.a)()&&O("div",{className:"".concat(w.a.newsskip),onClick:function(){return t.hideBreakingNews()}},void 0,E),O("div",{className:w.a["ticker-wrap"]},void 0,O("div",{className:"".concat(w.a.ticker)},void 0,i.a.createElement("div",{className:"".concat(s),ref:this.tickerConatinerRef},c))),O("ul",{className:"".concat(w.a["ticker-controls"],"  ").concat(u)},void 0,O("li",{className:"".concat(w.a["jnt-prev"],"  ").concat(w.a["".concat(l)])},void 0,O("button",{onClick:this.prevBreakingNews})),a,O("li",{className:"".concat(w.a["jnt-next"]," ").concat(w.a["".concat(f)])},void 0,O("button",{onClick:this.nextBreakingNews}))),this.props.withClose&&this.props.closeWidget&&O("button",{className:w.a.closeicon,onClick:function(e){return t.closeWidget(e)}},void 0,"+"));return O("div",{className:d},void 0,o?O("div",{className:"contentwrapper"},void 0,p):O(i.a.Fragment,{},void 0,p))}return W}}])&&C(n.prototype,o),r&&C(n,r),e}();B.defaultProps={data:void 0,theme:void 0,addWrapper:!1,withClose:!1,closeWidget:void 0};var x,R=B;function I(t){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function L(t,e,n,o){x||(x="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=t&&t.defaultProps,r=arguments.length-3;if(e||0===r||(e={children:void 0}),1===r)e.children=o;else if(r>1){for(var a=new Array(r),c=0;c<r;c++)a[c]=arguments[c+3];e.children=a}if(e&&i)for(var s in i)void 0===e[s]&&(e[s]=i[s]);else e||(e=i||{});return{$$typeof:x,type:t,key:void 0===n?null:""+n,ref:null,props:e,_owner:null}}function F(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function M(t,e){return!e||"object"!==I(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function H(t){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $(t,e){return($=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var z=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=M(this,H(e).call(this))).LoadBreakingNewsData=function(e){t.props.loadData(e)},t.closeWidget=function(){window.sessionStorage&&sessionStorage.setItem("brknewsClose","1"),t.setState({hideWidget:!0}),Object(a.a)({data:{gaCategory:"ATF_breaking_news_bar",gaAction:"close_icon",gaLabel:""}})},t.state={hideWidget:!1},t}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$(t,e)}(e,i.a.Component),n=e,(o=[{key:"componentDidMount",value:function(){var t={isTest:"undefined"!=typeof window&&window.location.search.includes("brknewstest")};(!window.sessionStorage||"1"!==sessionStorage.getItem("brknewsClose"))&&this.LoadBreakingNewsData(t)}},{key:"render",value:function(){var t=this.props,e=t.data,n=t.customComponent;return e&&!this.state.hideWidget?n?L(n,{data:this.props.data,closeWidget:this.closeWidget}):L(R,{data:this.props.data,theme:this.props.theme,addWrapper:this.props.addWrapper,withClose:this.props.withClose,closeWidget:this.closeWidget}):null}}])&&F(n.prototype,o),r&&F(n,r),e}();z.defaultProps={data:void 0,loadData:void 0,theme:void 0,customComponent:void 0,addWrapper:!1,withClose:!1};e.default=Object(r.b)(function(t){return{data:t.breakingNews.data}},function(t){return{loadData:function(e){t(m(e))}}})(z)},995:function(t,e,n){t.exports={"breaking-news":"_1wzk0",red_theme:"_2gaoK","ticker-wrap":"_1DOP6",left:"_2Sm9Q","ticker-controls":"_3CM0-","ticker-content":"_2wuOc","ticker-title":"_2AqoI",ticker:"_2ZS-E",hide:"zMcx6",closeicon:"_2h5r7",ticker__item:"zZ_eI",enable:"_16Fqs","jnt-next":"_3nGHu","jnt-prev":"HQTwU","jnt-play-pause":"_17pnI",paused:"DtSwu",desktop:"USPNH",add_anim_ticker:"_2nr7b",right:"_3Uwau",crossskip:"_2j_1D",newsskip:"_3WN5L",disable:"_251GO"}}}]);
//# sourceMappingURL=WithBreakingNews.b18e313c.chunk.js.map