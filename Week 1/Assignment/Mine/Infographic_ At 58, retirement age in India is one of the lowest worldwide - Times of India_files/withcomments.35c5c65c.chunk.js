(window.webpackJsonp=window.webpackJsonp||[]).push([[173],{1534:function(e,t,o){e.exports={clearfix:"_3ZIbt",mobilecomment:"iDDgB",comment_header:"dIGBB",close:"_1JV6t",comment_input:"_1Cjq_",lightText:"_33mCq",lightText1:"_23814",sortby:"WAFGd",sortText:"_30Wqu",socialpost:"_2XaoW",twitter:"_2ib7u",icontwitter:"_13N87",fb:"_175BK",iconfb:"_1lKR4",commentverificationmsg:"_3nIDd",noComment:"_1luEZ",comment_sidebar:"_1Gr0p",comment_scroll:"_3KyyJ",loadmore:"_3zQcU",loader:"_3nE7k",disclaimer:"_3wqQV",comment_topwrite:"_1BvtK",user_thumbnail:"_1kQk9",numbertxt:"_3wBiR",comment_title:"_1G2bT",noCommenTicker:"_20KpH",commentTicker:"_3OtyW",commentsContainer:"bLzrC",commenttopareafixed:"_355e6",closefixheadersection:"_3HIHr",addcommentheader:"_3Fq7Q",comments_box:"hA0Zz",error:"hzXzi",show_all_responses:"lkvJj",comments_list:"_3tu9Q",gdpr:"_1jvm3",header:"_2T8yX",user_details:"_2ZH3M",comment_text:"_2uauV",aucmt:"_3P736",cmtname:"_2i989",highlighted:"_1NWzy",highlight:"_2rTDQ",top_input:"_2Ijk4",signinform:"_3WCiP",point_tooltip:"lvUVk",popup_above:"_1rKiJ","heading-block":"_9N7Yf",level:"_3GezN",more:"_4Az_0",content:"_36ubv",section:"_2sbV_",name:"Hx3jR",badgepoint:"_1L0SY","info-txt":"HiDZ2",reasons:"WnJZ9","success-message":"_1lPc3",buttons:"usQjt",button:"_1XBfJ","more-info":"_3WwZ9",cont_left:"_2G-3v",cont_right:"_3uczL",comment_actions:"_3wAPo",point_container:"_1I42N",tooltip_wrap:"_3zb8D",gold:"_1otZt",platinum:"_3XFe-",silver:"_2HEW2",bronze:"_2sWiq",badges:"_3teje",follow:"_1Kg8k",iconreply:"_3zDWo",truncated:"_2FVHz",readmorecomment:"_3VM28",flagComment:"_3c5QW",tooltip_up:"_1i9i8",comment_reply:"IhmY9",comment_response:"RoZk5",upContainer:"_23uA0",downContainer:"_20ocg",userfollowing:"_3Ww3J",iconfollow:"_1Zgco",voteUp:"_29KSh",voteDown:"_3Aj9L",indentRight:"_1WCgZ",root:"_3N_op",open:"_2p8v2",commentsWrapper:"KeLwh",sticky:"_1lA1o",CommentLB_Bottom:"_2jPdx",cmtbtnwrapper:"_2sCYw",LBv2:"_2u8CU",euUser:"OgAUd",socialsignin:"_2nfPg",sociallogin:"SY9CB",hide_noreg:"_1qVyO",mathbox:"_1Hbmk",textbox:"_2crx3",signin:"TEPvQ",divider:"_3Ls9m",location:"_31qjl",submit1:"Gl9ko",google:"_3kB7v",email:"_3jS89",commentposterror:"_2w1vv",primeuser:"U9_IT",bottom_inner_v2:"_1z111",col2:"_3X0T6",noComments_v2:"McJ8D",startConversation:"_9AQHk"}},1535:function(e,t,o){var n=o(1536);e.exports=function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},i=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),i.forEach(function(t){n(e,t,o[t])})}return e}},1536:function(e,t){e.exports=function(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}},1537:function(e,t){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},1538:function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},1539:function(e,t,o){(function(t){var o=1/0,n="[object Symbol]",i=/&(?:amp|lt|gt|quot|#39|#96);/g,r=RegExp(i.source),s="object"==typeof t&&t&&t.Object===Object&&t,a="object"==typeof self&&self&&self.Object===Object&&self,c=s||a||Function("return this")();var l,p=(l={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},function(e){return null==l?void 0:l[e]}),d=Object.prototype.toString,u=c.Symbol,m=u?u.prototype:void 0,h=m?m.toString:void 0;function f(e){if("string"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&d.call(e)==n}(e))return h?h.call(e):"";var t=e+"";return"0"==t&&1/e==-o?"-0":t}e.exports=function(e){var t;return(e=null==(t=e)?"":f(t))&&r.test(e)?e.replace(i,p):e}}).call(this,o(52))},1540:function(e,t,o){e.exports={cmtbtnwrapper:"_1XXx1",innercomment_box:"_1J0sM",aucmt:"_3c-lJ",name:"_3_2lB",prime:"_2X2Hu",flagComment:"_2rZfV"}},1541:function(e,t,o){e.exports={clearfix:"_1QnkB",diplaynoneM:"mT5eV",sortby:"FSU8c",loadmore:"_2H3Rm",comment_input:"_290TN",commentsContainer:"gbJ5d",comments_list:"_28UZY",header:"_2wiKg",point_container:"_1w24L",comment_actions:"_1BtqS",signinform:"diUKv",divider:"sloHj",socialsignin:"_11oUT",comment_header:"PImgn",close:"_1Xtwn",indentRight:"wdpny",commentverificationmsg:"_2ZpIz",comment_sidebar:"_22Vlu",comment_scroll:"_2ckwP",disclaimer:"_2Xuq1",loader:"_3CPki",comment_topwrite:"_32xMg",numbertxt:"_2B-Jg",comment_title:"_1du-z",noCommenTicker:"_38EjJ",commentTicker:"wh_1_",comments_box:"_1-Int",error:"_3bojS",show_all_responses:"_2FBDU",commentposterror:"_3ltLE",user_thumbnail:"cCW2h",point_tooltip:"_2TiGe",popup_above:"_210hi","heading-block":"dwD6e",level:"_1xq9v",more:"_1Db2t",content:"_44u6k",section:"_3tPQ7",name:"_3MNiS",badgepoint:"_2bCqk","info-txt":"dqlkb",reasons:"_3WfxZ","success-message":"_32wWg",buttons:"_5K1Ip",button:"_2H1eu","more-info":"RZr9O",cont_left:"C1dJP",cont_right:"_1ZIoF",comment_text:"_30Dfr",tooltip_wrap:"_2N8xp",gold:"_1FT81",platinum:"_2ZfTj",silver:"_1j6A7",bronze:"pjAx8",badges:"_2LUgF",user_details:"_1RGd4",truncated:"_1uwKu",readmorecomment:"_1LuwP",flagComment:"_1e7Hj",flagicon:"_3FVWS",tooltip_up:"_2kNWp",upContainer:"N78hC",downContainer:"Knf_m",voteUp:"LpuWq",voteDown:"_2Eimn",root:"jv-lU",open:"ZzSTi",commentsWrapper:"_1TDxV",sticky:"_23NHl",cmtbtnwrapper:"_39Ute",signin:"_1NQ-i",sociallogin:"qTJf7",socialpost:"xPdPo",hide_noreg:"_3XQfz",mathbox:"_2dpDi",textbox:"_2Bt3M",location:"_2YJGd",submit1:"_10znB",fb:"ma9Ai",google:"_2i-3E",email:"_2CZhg"}},538:function(e,t,o){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i="https://toifeeds.indiatimes.com/treact/feeds/toi/web/list/video";t.a=function(e){var t=e.path,o=void 0===t?"":t,r=e.perpage,s=void 0===r?"":r,a=e.curpg,c=void 0===a?1:a,l=e.reqtype,p=void 0===l?"":l,d=s?"&perpage=".concat(s):"",u=c?"&curpg=".concat(c):"",m=p?"&reqtype=".concat(p):"";return"object"===("undefined"==typeof window?"undefined":n(window))?"".concat(i,"?path=").concat(o).concat(d).concat(u).concat(m):"".concat(i,"?path=").concat(o).concat(d).concat(u).concat(m).replace("https","http")}},540:function(e,t,o){"use strict";o.d(t,"a",function(){return d});var n=o(20),i=o.n(n),r=o(524);o(10);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(e){function t(e){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=c(this,l(t).call(this,e))).onScroll=function(){var e=o.props.callbackProvided||function(){},t=o.props.offsetFromTop?o.props.offsetFromTop:0,n=o.props.stickyFromTopStaticHeight||Object(r.c)(o.stickyDiv).y-parseInt(t,10),i=document.getElementById("toi-footer"),s=document.getElementById(o.props.idSelectorInViewRemoveSticky),a=s?Object(r.c)(s).y:0,c=(window.innerHeight-o.stickyDivChild.offsetHeight)/2,l=!1;l=a>0&&window.pageYOffset+window.innerHeight>a+c-80;var p=!!i&&window.pageYOffset+.95*window.innerHeight-Object(r.c)(i).y>0,d=window.pageYOffset>=n&&(!p||o.props.aboveFooter);d&&!o.state.isSticky?(e({sticky:!0}),o.setState({isSticky:!0})):!d&&o.state.isSticky?(e({sticky:!1}),o.setState({isSticky:!1})):o.state.isSticky&&l!==o.state.removeStickyClassEnable&&o.setState({removeStickyClassEnable:l})},o.state={isSticky:!1,removeStickyClassEnable:!1},o.state.appview=!1,o}var o,n,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,i.a.Component),o=t,(n=[{key:"componentDidMount",value:function(){window.location.href.indexOf("frmapp")>0&&this.setState({appview:!0}),this.onScroll(),window.addEventListener("scroll",this.onScroll,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.onScroll,!1)}},{key:"render",value:function(){var e=this,t="";this.state.appview&&(t=this.props.appclass);var o="",n=this.props.stickyClass?this.props.stickyClass:"sticky",r=this.state.isSticky;if(this.props.removeStickyOnArticleChange){var s=this.props,a=s.msid,c=s.activeMsid;a&&c&&a!==c?o=this.props.removeStickyClass:a&&(o="")}return"boolean"==typeof this.props.shouldRemoveSticky&&this.props.shouldRemoveSticky&&(o=this.props.removeStickyClass),this.state.removeStickyClassEnable&&(o=this.props.removeStickyClass),i.a.createElement("div",{className:"".concat(this.props.outerContainerClass," ").concat(t," ").concat(o),ref:function(t){e.stickyDiv=t}},i.a.createElement("div",{ref:function(t){e.stickyDivChild=t},className:r?n:""},this.props.children))}}])&&a(o.prototype,n),s&&a(o,s),t}();d.defaultProps={offsetFromTop:0,appclass:"",outerContainerClass:"",stickyFromTopStaticHeight:void 0,aboveFooter:!1,callbackProvided:void 0,msid:void 0,activeMsid:void 0,removeStickyOnArticleChange:!1,removeStickyClass:"",shouldRemoveSticky:void 0,idSelectorInViewRemoveSticky:void 0}},589:function(e,t,o){"use strict";o.d(t,"q",function(){return M}),o.d(t,"r",function(){return U}),o.d(t,"s",function(){return H}),o.d(t,"p",function(){return W}),o.d(t,"d",function(){return z}),o.d(t,"a",function(){return G}),o.d(t,"c",function(){return q}),o.d(t,"f",function(){return K}),o.d(t,"g",function(){return Z}),o.d(t,"o",function(){return Y}),o.d(t,"e",function(){return J}),o.d(t,"b",function(){return Q}),o.d(t,"l",function(){return $}),o.d(t,"h",function(){return ee}),o.d(t,"m",function(){return te}),o.d(t,"n",function(){return oe}),o.d(t,"j",function(){return ne}),o.d(t,"k",function(){return ie}),o.d(t,"i",function(){return re});var n=o(538),i=o(153),r=o(30),s=o(73),a=o(34),c=o(151),l=o.n(c);function p(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)}return o}function d(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?p(Object(o),!0).forEach(function(t){u(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):p(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}function u(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var m=function(e){return"toi/".concat("articleshow","/").concat(e)},h=m("RECEIVE_DATA"),f=m("HANDLE_DATA_ERROR"),g=m("TOGGLE_NIC"),v=m("RECEIVE_DATA_NIC"),y=m("NIC_LOADING"),b=m("NIC_LOADED"),_=m("DATA_LOADING"),w=m("DATA_LOADED"),C=m("ADD_DOCK_CANDIDATE"),O=m("ADD_UNDOCK_CANDIDATE"),S=m("DELETE_DOCK_CANDIDATE"),k=m("DELETE_UNDOCK_CANDIDATE"),x=m("OPEN_VIDEO_THEATRE"),D=m("CLOSE_VIDEO_THEATRE"),T=m("RECEIVE_DATA_VIDEO_THEATRE_SLIDER"),P=m("ADD_NEXT_VIDEO_MSID"),j=m("ELECTIONS_DATA_LOADED"),I=m("EXITPOLL_DATA_LOADED"),N=m("ASBREIFS_DATA_LOADED"),E=m("GEOLOCATION_VALUE"),A=m("AB_TEST_ON"),B=m("ARTICLE_TO_SHOW_COUNT"),F=m("ARTICLE_TO_SHOW_RESET_DAYS"),L=m("LOAD_MINITV_COMPONENT");function R(e){var t=e;if(e&&e.id){var o=l()(e,"ads.dfp.slots",{}),n=l()(e,"ads.ctn.slots",{}),i=0,r=Object.keys(o);if(r&&r.length>0)for(;i<r.length;i+=1)o[r[i]].experiment&&o[r[i]].experiment.adCode&&(o[r[i]].experiment.divId=o[r[i]].divId,t.ads.dfp.slots[r[i]]=d({},o[r[i]],{},o[r[i]].experiment),t.ads.dfp.slots[r[i]].experiment=null);if(i=0,(r=Object.keys(n))&&r.length>0)for(;i<r.length;i+=1)n[r[i]].experiment&&n[r[i]].experiment.slotId&&(t.ads.ctn.slots[r[i]].slotId=n[r[i]].experiment.slotId)}return t}function V(e){return{type:f,error:e}}function M(e){return e=R(e),{type:h,payload:{data:e,msid:e.id}}}function U(e){return{type:B,payload:e}}function H(e){return{type:F,payload:e}}function W(e){return{type:g,payload:{isNicOpen:e}}}function X(){return{type:w,payload:{}}}function z(){return{type:A,payload:{data:!0}}}function G(e){return{type:C,payload:{data:e}}}function q(e){return{type:O,payload:{data:e}}}function K(){return{type:S,payload:{}}}function Z(){return{type:k,payload:{}}}function Y(e,t,o){return{type:x,payload:{videoTheatreSliderPath:e,videoTheatreCurrMsid:t,videoTheatreCurrItem:o}}}function J(){return{type:D,payload:{}}}function Q(e){return{type:P,payload:e}}function $(e){return{type:L,payload:e}}function ee(e,t,o){return function(n){return n({type:_,payload:{}}),function(e,t){var o=t?"&frmapp=yes":"",n=e.isTestOutstream?"&test=outstream":"",r="/articleshow/".concat(Object(a.n)(e.fullPath),".cms"),c="".concat(Object(i.b)(),"/toi/web/show/news?path=").concat(r).concat(o).concat(n);return s.a.get(c)}(e,t).then(function(e){n(X()),n(function(e,t){return t&&(e=R(e)),{type:h,payload:{data:e,msid:e.id}}}(e.data,o))}).catch(function(e){n(X()),n(V(e))})}}function te(e){return function(t){t({type:y,payload:{}}),function(e){var t="/articleshow/".concat(Object(a.n)(e),".cms"),o="".concat(Object(i.b)(),"/toi/web/show/news?path=").concat(t);return s.a.get(o)}(e).then(function(o){return t(function(e,t){return{type:v,payload:{nic:{url:e,data:t.data}}}}(e,o))}).then(function(){return t({type:b,payload:{}})}).catch(function(e){return t(V(e))})}}function oe(e){return function(t){return function(e){var t=e;if(e&&e.startsWith("https://")){var o=e.replace("https://timesofindia.indiatimes.com/","").replace(/\/videoshow\/\d+.cms/,"").split("/");o.pop(),t=Object(n.a)({path:"/".concat(o.join("/")),perpage:10})}return s.a.get(t)}(e).then(function(e){return t(function(e){return{type:T,payload:{data:e.data}}}(e))})}}function ne(e){return function(t){return function(e){return s.a.get(e)}(e).then(function(e){return t(function(e){return{type:j,payload:e.data}}(e))})}}function ie(e){return function(t){return function(e){return s.a.get(e)}(e).then(function(e){return t(function(e){return{type:I,payload:e.data}}(e))})}}function re(e){return function(t){return function(e){return s.a.get(e)}(e).then(function(e){return t(function(e){return{type:N,payload:e.data}}(e))})}}r.a.register("articleshow",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case h:var o=e.data?d({},e.data):{};return o[t.payload.msid]=t.payload.data,d({},e,{data:o});case _:return d({},e,{dataLoading:!0});case w:return d({},e,{dataLoading:!1});case y:return d({},e,{nicLoading:!0});case b:return d({},e,{nicLoading:!1});case g:return d({},e,{isNicOpen:t.payload.isNicOpen});case v:return d({},e,{nic:t.payload.nic});case C:return d({},e,{dockCandidate:t.payload.data});case O:return d({},e,{unDockCandidate:t.payload.data});case S:return d({},e,{dockCandidate:void 0});case k:return d({},e,{unDockCandidate:void 0});case x:return d({},e,{isVideoTheatreOpen:!0,videoTheatreSliderPath:t.payload.videoTheatreSliderPath,videoTheatreCurrMsid:t.payload.videoTheatreCurrMsid,videoTheatreCurrItem:t.payload.videoTheatreCurrItem});case D:return d({},e,{isVideoTheatreOpen:!1,videoTheatreSliderPath:void 0});case T:return d({},e,{videoTheatreSliderData:t.payload.data.data.items});case P:return d({},e,{msidForNextVideo:t.payload});case L:return d({},e,{loadedMiniTvComponent:t.payload});case j:return d({},e,{electionsData:t.payload||{}});case I:return d({},e,{exitPollData:t.payload||{}});case N:return d({},e,{asBriefsData:t.payload});case E:return d({},e,{geolocationValue:t.payload.geolocationValue||1});case A:return d({},e,{abTestRunning:!0});case B:return d({},e,{articleToShowCount:t.payload});case F:return d({},e,{articleToShowResetDays:t.payload});default:return e}})},691:function(e,t,o){"use strict";o.r(t);var n=o(20),i=o.n(n),r=o(150),s=o(59),a=o.n(s),c=o(520),l=o.n(c),p=o(151),d=o.n(p),u=(o(10),o(34)),m=o(752),h=o(589),f=o(582),g=o(542);function v(){return"Refrain from posting comments that are obscene, defamatory or inflammatory,\n\t\t\t and do not indulge in personal attacks, name calling or inciting hatred\n\t\t\t against any community. Help us delete comments that do not follow these\n\t\t\t guidelines by marking them offensive. Let's work together to keep the\n\t\t\t conversation civil."}var y=o(548),b=o(1534),_=o.n(b),w=o(1535),C=o.n(w),O=o(1537),S=o.n(O),k=o(1538),x=o.n(k),D={position:"absolute",top:0,left:0,right:0,bottom:0,overflow:"hidden"},T={zIndex:2,position:"absolute",top:0,bottom:0,transition:"transform .3s ease-out",WebkitTransition:"-webkit-transform .3s ease-out",willChange:"transform",overflowY:"auto"},P={position:"absolute",top:0,left:0,right:0,bottom:0,overflowY:"auto",WebkitOverflowScrolling:"touch",transition:"left .3s ease-out, right .3s ease-out"},j={zIndex:1,position:"fixed",top:0,left:0,right:0,bottom:0,opacity:0,visibility:"hidden",transition:"opacity .3s ease-out, visibility .3s ease-out",backgroundColor:"rgba(0,0,0,.3)"},I={zIndex:1,position:"fixed",top:0,bottom:0},N=function(e){function t(t){var o;return(o=e.call(this,t)||this).state={sidebarWidth:t.defaultSidebarWidth,touchIdentifier:null,touchStartX:null,touchCurrentX:null,dragSupported:!1},o.overlayClicked=o.overlayClicked.bind(x()(x()(o))),o.onTouchStart=o.onTouchStart.bind(x()(x()(o))),o.onTouchMove=o.onTouchMove.bind(x()(x()(o))),o.onTouchEnd=o.onTouchEnd.bind(x()(x()(o))),o.onScroll=o.onScroll.bind(x()(x()(o))),o.saveSidebarRef=o.saveSidebarRef.bind(x()(x()(o))),o}S()(t,e);var o=t.prototype;return o.componentDidMount=function(){var e=/iPad|iPhone|iPod/.test(navigator?navigator.userAgent:"");this.setState({dragSupported:"object"==typeof window&&"ontouchstart"in window&&!e}),this.saveSidebarWidth()},o.componentDidUpdate=function(){this.isTouching()||this.saveSidebarWidth()},o.onTouchStart=function(e){if(!this.isTouching()){var t=e.targetTouches[0];this.setState({touchIdentifier:t.identifier,touchStartX:t.clientX,touchCurrentX:t.clientX})}},o.onTouchMove=function(e){if(this.isTouching())for(var t=0;t<e.targetTouches.length;t++)if(e.targetTouches[t].identifier===this.state.touchIdentifier){this.setState({touchCurrentX:e.targetTouches[t].clientX});break}},o.onTouchEnd=function(){if(this.isTouching()){var e=this.touchSidebarWidth();(this.props.open&&e<this.state.sidebarWidth-this.props.dragToggleDistance||!this.props.open&&e>this.props.dragToggleDistance)&&this.props.onSetOpen(!this.props.open),this.setState({touchIdentifier:null,touchStartX:null,touchCurrentX:null})}},o.onScroll=function(){this.isTouching()&&this.inCancelDistanceOnScroll()&&this.setState({touchIdentifier:null,touchStartX:null,touchCurrentX:null})},o.inCancelDistanceOnScroll=function(){return this.props.pullRight?Math.abs(this.state.touchCurrentX-this.state.touchStartX)<20:Math.abs(this.state.touchStartX-this.state.touchCurrentX)<20},o.isTouching=function(){return null!==this.state.touchIdentifier},o.overlayClicked=function(){this.props.open&&this.props.onSetOpen(!1)},o.saveSidebarWidth=function(){var e=this.sidebar.offsetWidth;e!==this.state.sidebarWidth&&this.setState({sidebarWidth:e})},o.saveSidebarRef=function(e){this.sidebar=e},o.touchSidebarWidth=function(){return this.props.pullRight?this.props.open&&window.innerWidth-this.state.touchStartX<this.state.sidebarWidth?this.state.touchCurrentX>this.state.touchStartX?this.state.sidebarWidth+this.state.touchStartX-this.state.touchCurrentX:this.state.sidebarWidth:Math.min(window.innerWidth-this.state.touchCurrentX,this.state.sidebarWidth):this.props.open&&this.state.touchStartX<this.state.sidebarWidth?this.state.touchCurrentX>this.state.touchStartX?this.state.sidebarWidth:this.state.sidebarWidth-this.state.touchStartX+this.state.touchCurrentX:Math.min(this.state.touchCurrentX,this.state.sidebarWidth)},o.render=function(){var e,t=C()({},T,this.props.styles.sidebar),o=C()({},P,this.props.styles.content),n=C()({},j,this.props.styles.overlay),r=this.state.dragSupported&&this.props.touch,s=this.isTouching(),a={className:this.props.rootClassName,style:C()({},D,this.props.styles.root),role:"navigation",id:this.props.rootId},c=this.props.shadow&&(s||this.props.open||this.props.docked);if(this.props.pullRight?(t.right=0,t.transform="translateX(100%)",t.WebkitTransform="translateX(100%)",c&&(t.boxShadow="-2px 2px 4px rgba(0, 0, 0, 0.15)")):(t.left=0,t.transform="translateX(-100%)",t.WebkitTransform="translateX(-100%)",c&&(t.boxShadow="2px 2px 4px rgba(0, 0, 0, 0.15)")),s){var l=this.touchSidebarWidth()/this.state.sidebarWidth;this.props.pullRight?(t.transform="translateX("+100*(1-l)+"%)",t.WebkitTransform="translateX("+100*(1-l)+"%)"):(t.transform="translateX(-"+100*(1-l)+"%)",t.WebkitTransform="translateX(-"+100*(1-l)+"%)"),n.opacity=l,n.visibility="visible"}else this.props.docked?(0!==this.state.sidebarWidth&&(t.transform="translateX(0%)",t.WebkitTransform="translateX(0%)"),this.props.pullRight?o.right=this.state.sidebarWidth+"px":o.left=this.state.sidebarWidth+"px"):this.props.open&&(t.transform="translateX(0%)",t.WebkitTransform="translateX(0%)",n.opacity=1,n.visibility="visible");if(!s&&this.props.transitions||(t.transition="none",t.WebkitTransition="none",o.transition="none",n.transition="none"),r)if(this.props.open)a.onTouchStart=this.onTouchStart,a.onTouchMove=this.onTouchMove,a.onTouchEnd=this.onTouchEnd,a.onTouchCancel=this.onTouchEnd,a.onScroll=this.onScroll;else{var p=C()({},I,this.props.styles.dragHandle);p.width=this.props.touchHandleWidth,this.props.pullRight?p.right=0:p.left=0,e=i.a.createElement("div",{style:p,onTouchStart:this.onTouchStart,onTouchMove:this.onTouchMove,onTouchEnd:this.onTouchEnd,onTouchCancel:this.onTouchEnd})}return i.a.createElement("div",a,i.a.createElement("div",{className:this.props.sidebarClassName,style:t,ref:this.saveSidebarRef,id:this.props.sidebarId},this.props.sidebar),i.a.createElement("div",{className:this.props.overlayClassName,style:n,onClick:this.overlayClicked,id:this.props.overlayId}),i.a.createElement("div",{className:this.props.contentClassName,style:o,id:this.props.contentId},e,this.props.children))},t}(n.Component);N.defaultProps={docked:!1,open:!1,transitions:!0,touch:!0,touchHandleWidth:20,pullRight:!1,shadow:!0,dragToggleDistance:30,onSetOpen:function(){},styles:{},defaultSidebarWidth:0};var E,A=N,B=o(540),F=o(511),L=o(570),R=o(1539),V=o.n(R),M=o(508),U=o(523);function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e,t,o,n){E||(E="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,r=arguments.length-3;if(t||0===r||(t={children:void 0}),1===r)t.children=n;else if(r>1){for(var s=new Array(r),a=0;a<r;a++)s[a]=arguments[a+3];t.children=s}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:E,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}function X(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)}return o}function z(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?X(Object(o),!0).forEach(function(t){G(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):X(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}function G(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function q(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function K(e,t){return!t||"object"!==H(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function J(e,t,o){Object(F.a)("gaAndGrx","send","event",e,t,o)}var Q=W("h3",{},void 0,"Continue without login"),$=W("span",{},void 0,"or"),ee=W("h3",{},void 0,"Login from existing account"),te=W("small",{},void 0,"Facebook"),oe=W("small",{},void 0,"Google"),ne=W("small",{},void 0,"Email"),ie=W("span",{},void 0,"Share on Facebook"),re=W("span",{},void 0,"Share on Twitter"),se=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=K(this,Z(t).call(this))).handleCommentBoxInput=function(t){e.setState({commentBoxInput:t.target.value})},e.inputChangeName=function(t){var o=t.target.value;e.setState({name:o})},e.inputChangeEmail=function(t){var o=t.target.value;e.setState({email:o})},e.inputChangeLoc=function(t){var o=t.target.value;e.setState({loc:o})},e.inputChangeCaptcha=function(t){var o=t.target.value;e.setState({captcha:o})},e.alphaOnly=function(e){return/^[A-z\s]+$/.test(e)},e.email=function(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},e.isNonLoggedInFormValid=function(){var t=!1,o="",n={},i=e.state,r=i.name,s=i.email,a=i.loc,c=i.captcha;return n.name=r.trim(),n.email=s.trim(),n.loc=a.trim(),n.captcha=c.trim(),e.props.isPrivateUser?o=e.messages.login_required:0===n.name.length?o=e.messages.name_required:e.alphaOnly(n.name)?0===n.email.length?o=e.messages.email_required:e.email(n.email)?0===n.loc.length?o=e.messages.location_required:e.alphaOnly(n.loc)?n.captcha?isNaN(n.captcha)||parseInt(n.captcha,10)!==e.captchaSum?o=e.messages.captcha_invalid:t=!0:o=e.messages.captcha_required:o=e.messages.location_not_string:o=e.messages.email_invalid:o=e.messages.name_not_string,e.setState({errorMsg:o}),{validForm:t,user:n}},e.postToSocial=function(t){var o=z({},e.socialSiteObj(),{message:t}),n=!1,i=!1;e.twitterRef&&e.twitterRef.current&&e.twitterRef.current.checked&&(e.postToTwitter(o),n=!0),e.fbRef&&e.fbRef.current&&e.fbRef.current.checked&&(Object(u.E)(e.postToFB(o)),i=!0),n&&J("comment","submit-twtshare-comment_section","msid_".concat(e.props.pageMsid)),i&&J("comment","submit-fbshare-comment_section","msid_".concat(e.props.pageMsid))},e.socialSiteObj=function(){var t=e.props.seoData;return{link:t.canonical||e.getMeta("og:url"),title:t.title||e.getMeta("og:title"),domain:window.location.host,picture:t.ogimage||e.getMeta("og:image"),desc:t.description||e.getMeta("og:description")}},e.getMeta=function(e){if(!e)return"";var t="",o=document.querySelector("meta[property='".concat(e,"']"));return o&&(t=o.getAttribute("content")),t},e.postToFB=function(e){window.FB.ui({method:"feed",message:e.message,name:e.title,link:e.link,picture:e.picture,caption:e.domain,description:e.desc})},e.postToTwitter=function(e){window.open("https://twitter.com/intent/tweet?text=".concat(escape(e.message)," - ").concat(e.link,"&original_referer=https://").concat(window.location.hostname,"/share.cms"),"socialPost","width=600,height=230,left=383,top=249,scrollbars=0,resizable=false")},e.showDisclaimer=function(){var t={},o=!1,n=e.props.isUserLoggedin(e.props.userData);e.state.showDisclaimer||(t.showDisclaimer=!0,o=!0),n||e.state.showLoginBox||(t.showLoginBox=!0,o=!0),o&&e.setState(z({},t))},e.showLoginScreen=function(){e.checkIfCommentIsEmpty()&&e.props.openLoginBox(!0)},e.loginWithFb=function(){e.checkIfCommentIsEmpty()&&Object(U.e)()},e.loginWithGoogle=function(){e.checkIfCommentIsEmpty()&&Object(U.f)()},e.checkIfCommentIsEmpty=function(){var t=!0,o=e.state.commentBoxInput;return o&&o.trim()||(e.showError(e.messages.empty_message),t=!1),t},e.closeCommentReply=function(){e.props.showAddCommentBox(!1)},e.state={isCommentWriteBoxVisible:!0,errorMsg:"",showLoginBox:!1,showDisclaimer:!1,name:"",email:"",loc:"",captcha:"",commentBoxInput:""},e.captchaSum=0,e.messages={login_required:"Please login to post your comment.",name_required:"Please enter your name.",location_required:"Please enter your location.",captcha_required:"Please enter captcha value.",name_toolong:"Name cannot be longer than 30 chars.",name_not_string:"Name can only contain alphabets.",location_toolong:"Location cannot be longer than 30 chars.",location_not_string:"Location can only contain alphabets.",captcha_toolong:"Captcha cannot be longer than 4 chars.",captcha_number_only:"Captcha value can only be a number.",captcha_invalid:"Please enter a valid captcha value.",email_required:"Please enter your email address.",email_invalid:"Please enter a valid email address.",empty_message:"You can't post this review as it is blank."},e.fbRef=i.a.createRef(),e.twitterRef=i.a.createRef(),e}var o,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(t,i.a.Component),o=t,(n=[{key:"componentWillMount",value:function(){this.captchaText=this.getCaptchaText()}},{key:"componentDidUpdate",value:function(e){e.userData.isLoggedIn!==this.props.userData.isLoggedIn&&this.showError()}},{key:"getCaptchaText",value:function(){var e=Math.floor(10*Math.random()),t=Math.floor(10*Math.random()),o=e+t;return this.captchaSum=o,"".concat(e,"+").concat(t,"=")}},{key:"onKeyPress",value:function(e){13===e.which&&this.addComment()}},{key:"resetCommentBox",value:function(){this.setState({commentBoxInput:""})}},{key:"showError",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.setState({errorMsg:e})}},{key:"addComment",value:function(){var e,t,o=this.state.commentBoxInput,n=this.props.isUserLoggedin(this.props.userData);if(this.checkIfCommentIsEmpty()){if(!n){var i=this.isNonLoggedInFormValid();if(!i.validForm)return;t=z({},i.user)}this.showError(),this.props.getParentComment&&"function"==typeof this.props.getParentComment&&(e=this.props.getParentComment());var r=e&&e.msid||0,s=this.props.getMsid&&this.props.getMsid()||0,a=this.props.pageMsid,c={message:o,rootid:r,parentid:s,ArticleID:a,msid:a};n?(this.props.handleAddComment(c),this.setState({showVerifyMessage:!1}),this.postToSocial(c.message)):(this.props.handleAddComment(c,t),this.setState({showVerifyMessage:!0})),this.resetCommentBox(),this.props.toggleResponses&&this.props.toggleResponses(!0),this.props.showAddCommentBox&&this.props.showAddCommentBox(!1),J(window&&window.categoryForGA?"".concat(window.categoryForGA):"WEB-".concat(window.location.href),"comment-submit-comment_section","msid_".concat(this.props.pageMsid))}}},{key:"getLoginBox",value:function(){var e=this,t=this.props.styles;return W("div",{className:"".concat(t.signinform," clearfix ").concat(this.props.isPrivateUser?t.euUser:"")},void 0,W("div",{className:"clearfix"},void 0,!this.props.isPrivateUser&&i.a.createElement(i.a.Fragment,null,W("div",{className:t.signin},void 0,Q,W("input",{className:t.textbox,placeholder:"Full Name",onChange:function(t){return e.inputChangeName(t)},value:this.state.name,maxLength:"30"}),W("input",{className:t.textbox,placeholder:"Email",onChange:function(t){return e.inputChangeEmail(t)},value:this.state.email}),W("input",{className:"".concat(t.textbox," ").concat(t.location),placeholder:"Location",onChange:function(t){return e.inputChangeLoc(t,"loc")},value:this.state.loc,maxLength:"30"}),W("span",{className:"".concat(t.mathbox," clearfix")},void 0,W("span",{},void 0,this.captchaText),W("input",{className:t.textbox,onChange:function(t){return e.inputChangeCaptcha(t)},value:this.state.captcha,maxLength:"4"}))),W("div",{className:t.divider},void 0,$)),W("div",{className:t.socialsignin},void 0,ee,W("span",{className:t.fb,title:"Facebook",onClick:function(){e.loginWithFb()}},void 0,te),W("span",{className:t.google,title:"Google",onClick:function(){return e.loginWithGoogle()}},void 0,oe),W("span",{className:t.email,title:"Email",onClick:function(){return e.showLoginScreen()}},void 0,ne))))}},{key:"render",value:function(){var e=this,t=this.props.isUserLoggedin(this.props.userData),o=this.props.renderUserIcon(),n=this.props.styles,r=this.props.mainCommentBox&&this.props.showFixedHeader;return i.a.createElement(i.a.Fragment,null,this.state.isCommentWriteBoxVisible&&W("div",{className:r?n.commenttopareafixed:""},void 0,W("div",{className:"".concat(n.comment_input," ").concat(n.top_input," ").concat(this.props.isWapView?n.mobile:"")},void 0,!this.props.prime&&o,this.props.mainCommentBox&&i.a.createElement("textarea",{id:"comment-sidebar-input-".concat(this.props.pageMsid),type:"text",placeholder:"Leave a comment…","aria-label":"leave comment",cols:"40",rows:"5",maxLength:"3000",ref:this.props.commentTextInputRef,onKeyPress:function(t){return e.onKeyPress(t)},onFocus:function(){return e.showDisclaimer()},onChange:this.handleCommentBoxInput,value:this.state.commentBoxInput}),!this.props.mainCommentBox&&W("textarea",{type:"text",placeholder:"Leave a comment…","aria-label":"leave comment",cols:"40",rows:"5",maxLength:"3000",onKeyPress:function(t){return e.onKeyPress(t)},onFocus:function(){return e.showDisclaimer()},onChange:this.handleCommentBoxInput,value:this.state.commentBoxInput}),W("button",{"aria-label":"add comment",onClick:function(){return e.addComment()}}),W("span",{className:n.numbertxt},void 0,this.state.commentBoxInput.length,"/3000"),this.props.showCloseButton&&W("div",{className:n.close,onClick:function(){e.closeCommentReply()}},void 0,"+")),this.state.errorMsg&&W("div",{className:n.commentposterror},void 0,this.state.errorMsg),this.state.showLoginBox&&!this.props.userData.isLoggedIn&&this.getLoginBox(),!this.props.prime&&!this.props.isWapView&&t&&this.state.showDisclaimer&&W("div",{className:"".concat(n.socialpost," clearfix")},void 0,W("label",{className:n.fb},void 0,W("i",{className:n.iconfb}),i.a.createElement("input",{type:"checkbox",ref:this.fbRef}),ie),W("label",{className:n.twitter},void 0,W("i",{className:n.icontwitter}),i.a.createElement("input",{type:"checkbox",ref:this.twitterRef}),re)),this.state.showDisclaimer&&W("p",{className:n.disclaimer},void 0," ",this.props.disclaimer()),this.props.showVerificationMsg&&this.state.showVerifyMessage&&W("div",{className:n.commentverificationmsg},void 0,"We have sent you a verification email. To verify, just follow the link in the message"),r&&W("span",{className:n.closefixheadersection,onClick:function(){return e.props.hideFixedHeader()}},void 0,"HIDE")))}}])&&q(o.prototype,n),r&&q(o,r),t}();se.defaultProps={userData:void 0,getParentComment:void 0,getMsid:void 0,toggleResponses:void 0,showAddCommentBox:void 0,showCloseButton:!1,prime:!1,isWapView:!1,mainCommentBox:!1,disclaimer:function(){},showVerificationMsg:!1,showFixedHeader:!1,hideFixedHeader:function(){},seoData:{},isPrivateUser:!0};var ae=se;function ce(e){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function le(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function pe(e,t){return!t||"object"!==ce(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function de(e){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ue(e,t){return(ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var me=function(e){function t(e){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=pe(this,de(t).call(this,e))).state={},o}var o,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ue(e,t)}(t,i.a.Component),o=t,(n=[{key:"componentDidMount",value:function(){if(this.myRef&&!this.unmounted){var e=this.myRef;e.getBoundingClientRect().top-this.props.offSetFromTop>e.offsetHeight&&this.setState({showAbove:!0})}}},{key:"componentWillUnmount",value:function(){this.unmounted=!0}},{key:"render",value:function(){var e=this,t="",o=this.props.styles;return t=this.state.showAbove?o.tooltip_up:"tooltip_down",i.a.createElement("div",{className:"".concat(o.point_tooltip," ").concat(t),ref:function(t){e.myRef=t}},this.props.data)}}])&&le(o.prototype,n),r&&le(o,r),t}();me.defaultProps={offSetFromTop:0};var he,fe,ge,ve,ye,be,_e,we,Ce=me,Oe=o(509),Se=o(12),ke=o(581);function xe(e){return(xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function De(e,t,o,n){we||(we="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,r=arguments.length-3;if(t||0===r||(t={children:void 0}),1===r)t.children=n;else if(r>1){for(var s=new Array(r),a=0;a<r;a++)s[a]=arguments[a+3];t.children=s}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:we,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}function Te(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Pe(e){return(Pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function je(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ie(e,t){return(Ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ne(e,t,o,n,i){var r={};return Object.keys(n).forEach(function(e){r[e]=n[e]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},r),i&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(i):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r}function Ee(e){return function(e){if(Array.isArray(e)){for(var t=0,o=new Array(e.length);t<e.length;t++)o[t]=e[t];return o}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var Ae,Be,Fe,Le,Re,Ve,Me=De("h4",{},void 0,"Badges Earned"),Ue=De("h4",{},void 0,"Find this comment offensive?"),He=De("h6",{},void 0,"Reason for reporting:"),We=De("li",{},void 0,De("label",{},void 0,De("input",{type:"radio",name:"radio1",value:"Foul language"}),De("span",{},void 0,"Foul language"))),Xe=De("li",{},void 0,De("label",{},void 0,De("input",{type:"radio",name:"radio1",value:"Defamatory"}),De("span",{},void 0,"Defamatory"))),ze=De("li",{},void 0,De("label",{},void 0,De("input",{type:"radio",name:"radio1",value:"Inciting hatred against a certain community"}),De("span",{},void 0,"Inciting hatred against a certain community"))),Ge=De("li",{},void 0,De("label",{},void 0,De("input",{type:"radio",name:"radio1",value:"Out of context/Spam"}),De("span",{},void 0,"Out of context/Spam"))),qe=De("li",{},void 0,De("label",{},void 0,De("input",{type:"radio",name:"radio1",value:"Others"}),De("span",{},void 0,"Others"))),Ke=(he=Object(Oe.a)({}),fe=Object(Oe.a)({}),ge=Object(Oe.a)({}),ve=Object(Oe.a)({}),_e=be=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t){return!t||"object"!==xe(t)&&"function"!=typeof t?je(e):t}(this,Pe(t).call(this))).textAreaHandler=function(t){e.setState({othersTextAreaVal:t.target.value})},e.onFlagRequestComplete=function(){Object(ke.c)(e.msid,"103",0,1,y.a.OFFENSIVE),e.setState({flagRequestComplete:!0})},e.onFlagSubmit=function(){e.props.isUserLoggedin(e.props.userData)?e.onFlagComment():Object(U.d)(function(t){t&&t.uid&&e.onFlagComment()})},e.onFlagComment=function(){if(e.props.isUserLoggedin(e.props.userData)){var t=e.props,o=t.userData,n=t.data;if(e.flagReason&&e.flagReason.trim()&&("others"!==e.flagReason.toLowerCase()||e.state.othersTextAreaVal.trim())){var i=e.props.isUserLoggedin(e.props.userData)?"1":"0",r={ofreason:e.flagReason,ofusername:o.getFullName(),ofcommenteroid:n._id,ofcommentid:e.props.pageMsid,ofuserisloggedin:i,ofuserssoid:o.getEmail(),ofuseremail:o.getEmail()};e.props.hideFlag(e.props.data._id),e.props.onFlagComment(r,e.onFlagRequestComplete)}else e.setState({showFlagErrorForNoSelection:!0})}},e.hideFlag=function(){e.props.hideFlag(e.props.data._id)},e.getParentComment=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je(e);return t.getParentComment?t.getParentComment(e.props.parent):je(e)},e.getImmediateParent=function(){return e.props.parent},e.getMsid=function(){return e.props.data._id},e.renderNextLevelOverlay=function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=t.pointsNeeded(o),r=e.props.styles;return De(i.a.Fragment,{},void 0,De("p",{},void 0,De("strong",{},void 0,n)," more points needed to reach next level."),De("a",{href:"".concat(Se.B,"/abouttimesrewards.cms"),className:r.more,target:"_blank",rel:"noopener noreferrer"},void 0,"Know more about Times Points"))},e.renderBadges=function(t){if(!t)return null;var o=t.activityBadge||{},n=e.props.styles;return De("div",{},void 0,De("div",{className:n["heading-block"]},void 0,Me),De("div",{className:"".concat(n.content," ").concat(n.clearfix)},void 0,o.map(function(e,t){return De("div",{className:n.section},t,De("img",{className:n.badge,src:e.currentBadge.bimg,alt:""}),De("p",{},void 0,e.currentBadge.bname),De("div",{className:n.badgepoint},void 0,e.currentBadge.level))}),De("p",{className:n["more-info"]},void 0,De("a",{href:"".concat(Se.B,"/abouttimesrewards.cms"),className:n.more,target:"_blank",rel:"noopener noreferrer"},void 0,"Know more about Times Points"))))},e.renderFlagForm=function(){var t=e.props.styles;return De("div",{},void 0,De("div",{className:t["heading-block"]},void 0,Ue),De("div",{className:"".concat(t.content," ").concat(t.clearfix)},void 0,De("span",{className:t["success-message"]},void 0,"Your reason has been submitted to the Admin."),De("span",{className:t["info-txt"]},void 0,"Choose your reason below and click on the Submit button. This will alert our moderators to take action"),He,De("ul",{className:t.reasons,onChange:function(t){return e.onReasonChange(t)}},void 0,We,Xe,ze,Ge,qe,e.state.shouldShowFlagReasonBox&&De("li",{},void 0,i.a.createElement("textarea",{ref:function(t){e.domRefs.reasonTextArea=t||e.domRefs.reasonTextArea},className:t.offensive_popup_reason,value:e.state.othersTextAreaVal,onChange:function(t){return e.textAreaHandler(t)}}))),e.state.showFlagErrorForNoSelection&&De("div",{className:t.error},void 0,"Please enter a reason"),De("div",{className:t.buttons},void 0,De("span",{className:"".concat(t.button," ").concat(t.submit),onClick:e.onFlagSubmit},void 0,"Report this !"),De("span",{className:"".concat(t.button," ").concat(t.close_popup),onClick:e.hideFlag},void 0,"Close"))))},e.onReasonChange=function(t){e.flagReason=t&&t.target.value?t.target.value.toLowerCase():"",e.flagReason&&e.flagReason.trim()&&e.setState({showFlagErrorForNoSelection:!1}),e.showFlagReasonBox(t)},e.showFlagReasonBox=function(t){var o=!1,n=t&&t.target.value?t.target.value.toLowerCase():"";t.target!==e.domRefs.reasonTextArea&&("others"===n&&(o=!0),e.setState({shouldShowFlagReasonBox:o}))},e.onFlagClick=function(){e.props.onFlagClick(e.props.data)},e.handleAddComment=function(t,o){e.props.handleAddComment(t,o),e.toggleResponses(!0)},e.followUser=function(t){e.props.followUser(t)},e.handleShowMoreComment=function(){e.setState({showMoreComment:!0})},e.showAllResponses=function(){e.setState({showAllReplies:!0})},e.state={shouldShowResponses:!1,shouldShowAddCommentBox:!1,flagRequestComplete:!1,shouldShowFlagReasonBox:!1,showFlagErrorForNoSelection:!1,showMoreComment:!1,othersTextAreaVal:"",showAllReplies:!1},e.domRefs={},e.flagReason="",e.onVoteUp=e.onVoteUp.bind(je(e)),e.onVoteDown=e.onVoteDown.bind(je(e)),e.showAddCommentBox=e.showAddCommentBox.bind(je(e)),e.toggleResponses=e.toggleResponses.bind(je(e)),e.handleShowHideResponse=e.handleShowHideResponse.bind(je(e)),e}var o,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ie(e,t)}(t,i.a.Component),o=t,r=[{key:"pointsNeeded",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t="";return 0===parseInt(e,10)||e<250?t=250-e:e>249&&e<5e3?t=5e3-e:e>4999&&e<25e3?t=25e3-e:e>24999&&e<25e4&&(t=25e4-e),t}}],(n=[{key:"onVoteUp",value:function(){this.props.putVote(this.props.data,!0)}},{key:"onVoteDown",value:function(){this.props.putVote(this.props.data)}},{key:"showAddCommentBox",value:function(e){var t="boolean"!=typeof e||e;this.setState({shouldShowAddCommentBox:t}),e||this.props.resetCommentBoxId()}},{key:"toggleResponses",value:function(e){var t="boolean"==typeof e?e:!this.state.shouldShowResponses;this.setState({shouldShowResponses:t,showAllReplies:!1})}},{key:"handleShowHideResponse",value:function(){this.toggleResponses()}},{key:"render",value:function(){var e=this,t=this.props.data,o=t.F_NAME,n=t.A_D_N,i=t.CITY,r=t.C_D,s=t.C_A_ID,a=t.addedNow,c=t.C_T,l=t.CHILD,p=t.AC_A_C,d=t.AC_D_C,m=t.user_reward,h=t.user_reward_point_info,f=this.props.styles,g=this.props,v=g.data,y=g.shouldShowFlagForm,b=g.isPrivateUser,_=v.user_detail&&v.user_detail.thumb?v.user_detail.thumb:"",w=!(!v.user_detail||!v.user_detail.U_P_S||-1===[1,3,4,5,8].indexOf(parseInt(v.user_detail.U_P_S,10))),C=this.state,O=C.shouldShowResponses,S=C.shouldShowAddCommentBox,k=C.flagRequestComplete,x=m&&m.levelName?m.levelName.toLowerCase():"",D=this.props,T=D.parentUserName,P=D.isParent,j=V()(c),I=v.user_detail&&v.user_detail.CITY?v.user_detail.CITY:i,N=n||o,E=v.user_detail&&v.user_detail.D_N_U?v.user_detail.D_N_U:null,A=v.user_detail&&v.user_detail._id?v.user_detail._id:null,B=s,F=this.props.isUserLoggedin(this.props.userData)?"1":"0",L=parseInt(v.user_detail&&v.user_detail.F_C?v.user_detail.F_C:0,10),R="";L>0&&(R="( ".concat(L," ").concat(L>1?"followers":"follower"," )"));var U=function e(t){if(!t||0===t.length)return[];for(var o=Ee(t),n=[],i=0;i<t.length;i+=1)t[i].CHILD&&t[i].CHILD.length>0?n.splice.apply(n,[n.length,0,o[i]].concat(Ee(e(t[i].CHILD)))):n.splice(n.length,0,o[i]);return n}(l),H=this.props.userData&&"function"==typeof this.props.userData.getId?this.props.userData.getId():"";return De("li",{className:"".concat(f.comments_list," ").concat(B?f.aucmt:""," ").concat(!this.props.isPrime&&this.props.isHighlighted?f.highlighted:""," ").concat(w?f.primeuser:"")},void 0,De("div",{className:"".concat(f.header," ").concat(P?f.level1:"")},void 0,P&&this.props.renderUserIcon(_,"comment-profile_photo-comment_section|userid_".concat(A)),De("h3",{"data-ga":"comment-profile_name-comment_section|userid_".concat(A),className:f.cmtname},void 0,E||A?De(M.a,{href:"http://mytimes.indiatimes.com/profile/".concat(E||A),target:"_blank",rel:"noopener noreferrer","data-ga":"comment-profile_name-comment_section|userid_".concat(A)},void 0,Object(u.b)(N||"")):Object(u.b)(N||"")),!b&&De("div",{className:f.point_container},void 0,m&&m.statusPoints>0&&De("div",{className:f.tooltip_wrap},void 0,De("span",{className:f[x]},void 0,m.statusPoints),De(Ce,{data:this.renderNextLevelOverlay(m.statusPoints),styles:f})),h&&h.activityBadge&&h.activityBadge.length>3&&De("div",{className:f.badges},void 0,De(Ce,{data:this.renderBadges(h),styles:f})))),!this.props.isPrime&&De("div",{className:f.user_details},void 0,T&&De("span",{className:f.metadata},void 0,De("i",{className:f.iconreply}),Object(u.b)(T)),I&&"unknown"!==I.toLowerCase()&&De("span",{className:f.userLocation,dangerouslySetInnerHTML:{__html:I}}),!a&&r&&De("span",{className:f.postTime},void 0,r),a&&De("span",{className:f.postTime},void 0,"Just Now"),o&&!this.props.isFollowee&&"1"===F&&v.user_detail&&v.user_detail._id&&H!==v.user_detail._id&&De("span",{className:f.follow,onClick:function(){return e.followUser(v.user_detail._id)},title:"Follow ".concat(o," ").concat(R)},void 0,"Follow"),this.props.isFollowee&&De("span",{className:f.userfollowing},void 0,De("span",{className:f.following,title:"Following ".concat(o," ").concat(R)},void 0,De("i",{className:f.iconfollow}),"Following"))),j.length>500&&!this.state.showMoreComment&&De("div",{className:f.comment_text},void 0,De("div",{className:f.truncated,dangerouslySetInnerHTML:{__html:"".concat(j.substr(0,500)," ... ")}}),De("span",{className:f.readmorecomment,onClick:function(){return e.handleShowMoreComment()}},void 0,"Read More")),(j.length<=500||j.length>500&&this.state.showMoreComment)&&De("div",{className:f.comment_text,dangerouslySetInnerHTML:{__html:j}}),!a&&De("div",{className:f.comment_actions},void 0,De("a",{onClick:function(t){return e.showAddCommentBox(t)},"data-ga":"comment-reply-comment_section|msid_".concat(this.props.pageMsid),className:f.comment_reply},void 0,"Reply"),P&&l&&!O&&De("a",{"data-ga":"comment-show_responses-comment_section|commentid_".concat(this.getMsid()),onClick:this.handleShowHideResponse,className:f.comment_response},void 0,"Show responses"),P&&l&&O&&De("a",{"data-ga":"comment-hide_responses-comment_section|commentid_".concat(this.getMsid()),onClick:this.handleShowHideResponse},void 0,"Hide responses"),De("span",{className:f.upContainer,"data-ga":"comment-upvote-comment_section|commentid_".concat(this.getMsid()),onClick:this.onVoteUp},void 0,De("i",{className:f.voteUp}),De("span",{},void 0,p)),De("span",{className:f.downContainer,"data-ga":"comment-downvote-comment_section|commentid_".concat(this.getMsid()),onClick:this.onVoteDown},void 0,De("i",{className:f.voteDown}),De("span",{},void 0,d)),k&&De("span",{className:f.flagComment},void 0,this.props.isPrime?"":"flagged"),!k&&De("span",{className:f.flagComment},void 0,De("a",{onClick:this.onFlagClick,className:f.flagicon},void 0,this.props.isPrime?"":"flag"),y&&De(Ce,{data:this.renderFlagForm(),styles:f,offSetFromTop:60}))),this.props.errorMsg&&De("div",{className:f.error},void 0,this.props.errorMsg),(S||this.props.openCommentBox)&&De(ae,{showAddCommentBox:this.showAddCommentBox,toggleResponses:this.toggleResponses,userData:this.props.userData,openLoginBox:this.props.openLoginBox,isUserLoggedin:this.props.isUserLoggedin,handleAddComment:this.handleAddComment,pageMsid:this.props.pageMsid,getMsid:this.getMsid,getImmediateParent:this.getImmediateParent,getParentComment:this.getParentComment,renderUserIcon:this.props.renderUserIcon,disclaimer:this.props.disclaimer,showCloseButton:!0,styles:this.props.styles,prime:this.props.isPrime,isWapView:this.props.isWapView,commentTextInputRef:this.props.commentTextInputRef,showVerificationMsg:this.props.showVerificationMsg,seoData:this.props.seoData,isPrivateUser:this.props.isPrivateUser}),De("div",{className:f.indentRight},void 0,(O||!P)&&this.props.level<1&&this.props.renderCommentList(this.state.showAllReplies?U:U.slice(0,3),this,this.props.level+1),(O||!P)&&0===this.props.level&&!this.state.showAllReplies&&U.length>3&&De("div",{className:f.show_all_responses,onClick:function(){return e.showAllResponses()}},void 0,"Show all responses")))}}])&&Te(o.prototype,n),r&&Te(o,r),t}(),be.defaultProps={userData:void 0,parent:void 0,parentUserName:"",isParent:!0,isPrime:!1,isWapView:!1,openCommentBox:!1,resetCommentBoxId:function(){},errorMsg:"",shouldShowFlagForm:!1,showVerificationMsg:!1,seoData:{},isHighlighted:!1,level:0,isFollowee:!1,isPrivateUser:!0},Ne((ye=_e).prototype,"onVoteUp",[he],Object.getOwnPropertyDescriptor(ye.prototype,"onVoteUp"),ye.prototype),Ne(ye.prototype,"onVoteDown",[fe],Object.getOwnPropertyDescriptor(ye.prototype,"onVoteDown"),ye.prototype),Ne(ye.prototype,"showAddCommentBox",[ge],Object.getOwnPropertyDescriptor(ye.prototype,"showAddCommentBox"),ye.prototype),Ne(ye.prototype,"handleShowHideResponse",[ve],Object.getOwnPropertyDescriptor(ye.prototype,"handleShowHideResponse"),ye.prototype),ye),Ze=o(1540),Ye=o.n(Ze);function Je(e){return(Je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qe(e,t,o,n){Ve||(Ve="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,r=arguments.length-3;if(t||0===r||(t={children:void 0}),1===r)t.children=n;else if(r>1){for(var s=new Array(r),a=0;a<r;a++)s[a]=arguments[a+3];t.children=s}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:Ve,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}function $e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function et(e){return(et=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ot(e,t){return(ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nt(e,t,o,n,i){var r={};return Object.keys(n).forEach(function(e){r[e]=n[e]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},r),i&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(i):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r}var it=Qe("i",{className:"icon uparrow"}),rt=Qe("i",{className:"icon downarrow"}),st=(Ae=Object(Oe.a)({}),Be=Object(Oe.a)({}),Fe=Object(Oe.a)({}),Le=Object(Oe.a)({}),nt((Re=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t){return!t||"object"!==Je(t)&&"function"!=typeof t?tt(e):t}(this,et(t).call(this))).flagHandler=function(){setTimeout(function(){e.props.flagHandler(e.props.data)},0)},e.onVoteUp=e.onVoteUp.bind(tt(e)),e.onVoteDown=e.onVoteDown.bind(tt(e)),e.openAddCommentBox=e.openAddCommentBox.bind(tt(e)),e.handleCommentClick=e.handleCommentClick.bind(tt(e)),e}var o,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ot(e,t)}(t,i.a.Component),o=t,(n=[{key:"onVoteUp",value:function(){this.props.putVote(this.props.data,!0)}},{key:"onVoteDown",value:function(){this.props.putVote(this.props.data)}},{key:"openAddCommentBox",value:function(e,t){this.props.openAddCommentBox(t)}},{key:"handleCommentClick",value:function(e,t){this.props.onClick(t)}},{key:"render",value:function(){var e,t,o=this,n=this.props.data,i=n.A_D_N,r=n.F_NAME,s=n.C_T,a=n.AC_A_C,c=n.AC_D_C,l=n.C_A_ID,p=n.addedNow,d=i||r,u=this.props.data,m=u.user_detail&&u.user_detail.thumb?u.user_detail.thumb:"",h=(e=s,(t=document.createElement("div")).innerHTML=e,t.innerText),f=u.user_detail&&u.user_detail.D_N_U?u.user_detail.D_N_U:null,g=u.user_detail&&u.user_detail._id?u.user_detail._id:null,v=l,y=!(!u.user_detail||!u.user_detail.U_P_S||-1===[1,3,4,5,8].indexOf(parseInt(u.user_detail.U_P_S,10)));return Qe("div",{className:"".concat(Ye.a.innercomment_box," ").concat(v?Ye.a.aucmt:""," ").concat(this.props.isPrime?Ye.a.prime:""," ").concat(y?Ye.a.primeuser:""),onClick:function(e){return o.handleCommentClick(e,o.props.id)}},void 0,Qe("div",{className:"user_thumbnail","data-ga":"comment-profile_photo-below_as|userid_".concat(g)},void 0,this.props.renderUserIcon(m,"comment-profile_photo-below_as|userid_".concat(g))),Qe("div",{className:"comment_right"},void 0,f||g?Qe(M.a,{to:"http://mytimes.indiatimes.com/profile/".concat(f||g),className:"name ".concat(Ye.a.name),target:"_blank",rel:"noopener noreferrer nofollow","data-ga":"comment-profile_name-below_as|userid_".concat(g)},void 0,d):Qe("span",{className:"name ".concat(Ye.a.name)},void 0,d||""),Qe("p",{className:"short_comment",dangerouslySetInnerHTML:{__html:unescape(h&&h.length>150?"".concat(h.substr(0,150),"..."):h)}}),!p&&Qe("div",{className:"footbar clearfix"},void 0,Qe("span",{className:"reply_txt","data-ga":"comment-reply-below_as|msid_".concat(this.props.msid),onClick:function(e){return o.openAddCommentBox(e,o.props.id)}},void 0,"Reply"),Qe("span",{className:"upContainer","data-ga":"comment-upvote-below_as|commentid_".concat(this.props.id),onClick:function(e){return o.onVoteUp(e)}},void 0,it,Qe("span",{},void 0,a)),Qe("span",{className:"downContainer","data-ga":"comment-downvote-below_as|commentid_".concat(this.props.id),onClick:function(e){return o.onVoteDown(e)}},void 0,rt,Qe("span",{},void 0,c)),this.props.isPrime&&Qe("span",{className:"flagicon",onClick:function(){return o.flagHandler()}}),!this.props.isPrime&&Qe("span",{className:Ye.a.flagComment},void 0,Qe("a",{onClick:function(){return o.flagHandler()},className:Ye.a.flagicon},void 0,"FLAG")))))}}])&&$e(o.prototype,n),r&&$e(o,r),t}()).prototype,"onVoteUp",[Ae],Object.getOwnPropertyDescriptor(Re.prototype,"onVoteUp"),Re.prototype),nt(Re.prototype,"onVoteDown",[Be],Object.getOwnPropertyDescriptor(Re.prototype,"onVoteDown"),Re.prototype),nt(Re.prototype,"openAddCommentBox",[Fe],Object.getOwnPropertyDescriptor(Re.prototype,"openAddCommentBox"),Re.prototype),nt(Re.prototype,"handleCommentClick",[Le],Object.getOwnPropertyDescriptor(Re.prototype,"handleCommentClick"),Re.prototype),Re);st.defaultProps={data:{A_D_N:"",F_NAME:"",C_T:"",AC_A_C:0,AC_D_C:0},isPrime:!1,msid:""};var at,ct,lt,pt,dt,ut,mt=st,ht=o(512),ft=o.n(ht)()({loader:function(){return o.e(108).then(o.bind(null,1586))},loading:function(){return null}}),gt=function(e){return i.a.createElement(ft,e)};function vt(e){return(vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yt(e,t,o,n){ut||(ut="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,r=arguments.length-3;if(t||0===r||(t={children:void 0}),1===r)t.children=n;else if(r>1){for(var s=new Array(r),a=0;a<r;a++)s[a]=arguments[a+3];t.children=s}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:ut,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}function bt(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function _t(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function wt(e){return(wt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ct(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ot(e,t){return(Ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function St(e,t,o,n,i){var r={};return Object.keys(n).forEach(function(e){r[e]=n[e]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},r),i&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(i):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r}var kt=yt("i",{}),xt=yt("i",{}),Dt=yt("h4",{},void 0,"TOP COMMENTS"),Tt=(at=Object(Oe.a)({}),ct=Object(Oe.a)({}),lt=Object(Oe.a)({}),pt=Object(Oe.a)({}),St((dt=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t){return!t||"object"!==vt(t)&&"function"!=typeof t?Ct(e):t}(this,wt(t).call(this))).onFlagClick=function(t){var o,n=(0,e.props.isValidRating)(t.A_ID,y.a.OFFENSIVE,1,t._id);n.isValid?e.setState((bt(o={},"errorMsg-".concat(t._id),""),bt(o,"activeFlag",t._id),o)):e.setState(bt({},"errorMsg-".concat(t._id),n.errorMsg))},e.onVote=function(t,o){if(e.props.isUserLoggedin(e.props.userData)){var n=o?"AGREED":"DISAGREED",i=e.props.isValidRating,r=(o?t.AC_A_C:t.AC_D_C)+1,s=i(t.A_ID,n,r,t._id);s.isValid?(e.setState(bt({},"errorMsg-".concat(t._id),"")),e.props.putVote(t._id,n,r,t.msid)):e.setState(bt({},"errorMsg-".concat(t._id),s.errorMsg))}else e.openLoginBox(!0)},e.openAddCommentBox=function(t){e.setState({openedAddCommentBoxId:t||""})},e.resetCommentBoxId=function(){e.setState({openedAddCommentBoxId:""})},e.showThread=function(t){e.props.isWapView||Object(F.a)("gaAndGrx","send","event","","LB_sticky_comments",""),e.props.openSidebar(e.props.msid),Object(u.C)()||(document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden"),e.setState({highlightedId:t})},e.hideFlag=function(){e.setState({activeFlag:""})},e.hideChangeViewLoader=function(){e.setState({showChangeViewLoader:!1})},e.showChangeViewLoader=function(){e.setState({showChangeViewLoader:!0})},e.hideLoadMoreCommentsLoader=function(){e.setState({showLoadMoreLoader:!1})},e.getNoCommentText=function(){var t=e.props.commentsData||[],o="";return 0===(t&&t[0]&&t[0].totalcount||0)?o="Be the first one to review.":"discussed"!==e.sortType||t[0].countPresent?"disagree"!==e.sortType||t[0].countPresent||(o="None of the comments have been down voted."):o="None of the comments have been discussed.",o},e.hideFixedHeader=function(){e.setState({showFixedHeader:!1})},e.isElementInViewport=function(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)},e.handleScrollStop=function(){var t=document.getElementById("comment-sidebar-input-".concat(e.props.msid));t&&(e.isElementInViewport(t)||e.state.showFixedHeader?e.setState({showFixedHeaderIcon:!1}):e.setState({showFixedHeaderIcon:!0}))},e.getReadCommentsBtn=function(t){var o=t>1?"comments":"comment",n=e.props.readCommentsTxt||"Read ".concat(t," ").concat(o);e.props.showBottomCommentsV2&&(n=e.props.isWapView?"".concat(t>99?"99+":t," ").concat(o):"Read ".concat(o," (").concat(t>99?"99+":t,")"));var i=e.props.styles;return 0!==t?e.props.redirectBtnClick?yt("a",{className:"".concat(i.cmtbtn," ").concat(i.view),href:"/articleshow_comments/".concat(e.props.msid,".cms")},void 0,n):yt("span",{className:"".concat(i.cmtbtn," ").concat(i.view," cmtbtn view"),"data-ga":"comment-view-below_as|msid_".concat(e.props.msid),onClick:function(t){return e.onSidebarOpenClose(t,!0)}},void 0,n):null},e.postCommentHandler=function(t){e.onSidebarOpenClose(t,!0),setTimeout(function(){e.props.commentTextInputRef.current.focus()},0)},e.getPostCommentBtn=function(){var t=e.props.styles,o=e.props.postCommentText||"Post a comment";return"4.0"===e.props.commentModeration?null:e.props.redirectBtnClick?yt("a",{className:"".concat(t.cmtbtn," ").concat(t.add),href:"/articleshow_comments/".concat(e.props.msid,".cms")},void 0,yt("span",{className:"icon"},void 0,o)):yt("span",{className:"".concat(t.cmtbtn," ").concat(t.add," cmtbtn add"),"data-ga":"comment-add-below_as|msid_".concat(e.props.msid),onClick:function(t){return e.postCommentHandler(t)}},void 0,yt("span",{className:"icon"},void 0,o))},e.state={openedAddCommentBoxId:"",showLoadMoreLoader:!1,showChangeViewLoader:!1,showFixedHeader:!1,showFixedHeaderIcon:!1,highlightedId:""},e.renderCommentList=e.renderCommentList.bind(Ct(e)),e.onSidebarOpenClose=e.onSidebarOpenClose.bind(Ct(e)),e.renderLogin=e.renderLogin.bind(Ct(e)),e.openLoginBox=e.openLoginBox.bind(Ct(e)),e.renderUserIcon=e.renderUserIcon.bind(Ct(e)),e.loadMoreComments=e.loadMoreComments.bind(Ct(e)),e.handleFixedHeader=e.handleFixedHeader.bind(Ct(e)),e.onSortClick=e.onSortClick.bind(Ct(e)),e}var o,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ot(e,t)}(t,i.a.Component),o=t,r=[{key:"getSidebarStyles",value:function(){return{sidebar:{zIndex:2,position:"absolute",top:0,bottom:0,transition:"transform 0.3s ease-out",WebkitTransition:"-webkit-transform 0.3s ease-out",willChange:"transform",overflow:"hidden",paddingRight:"0"},root:{position:"absolute",top:0,right:0,bottom:0,overflow:"hidden",transition:"transform 0.3s ease-out",WebkitTransition:"-webkit-transform 0.3s ease-out",willChange:"transform",left:"100%"}}}}],(n=[{key:"componentDidUpdate",value:function(e){this.props.commentIdHighlighted!==e.commentIdHighlighted&&this.setState({highlightedId:this.props.commentIdHighlighted})}},{key:"renderUserIcon",value:function(e,t){var o=this.props.styles,n={backgroundImage:"url(".concat(e||"https://mytimes.indiatimes.com/image/thumb/0/default",")")};return yt("span",{className:o.user_thumbnail,style:n,"data-ga":t})}},{key:"getCommentItem",value:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0,i=!o||"object"===vt(o)&&0===Object.keys(o).length;return yt(Ke,{parent:o,userData:this.props.userData,isUserLoggedin:this.props.isUserLoggedin,openLoginBox:this.openLoginBox,pageMsid:this.props.msid,renderCommentList:this.renderCommentList,handleAddComment:this.props.handleAddComment,putVote:this.onVote,onFlagComment:this.props.onFlagComment,renderUserIcon:this.renderUserIcon,isValidRating:this.props.isValidRating,data:e,parentUserName:e.O_D_N||e.F_NAME,isParent:i,disclaimer:this.props.disclaimer,styles:this.props.styles,isPrime:this.props.isPrime,isWapView:this.props.isWapView,openCommentBox:this.state.openedAddCommentBoxId===e._id,resetCommentBoxId:this.resetCommentBoxId,errorMsg:this.state["errorMsg-".concat(e._id)]||"",onFlagClick:this.onFlagClick,shouldShowFlagForm:this.state.activeFlag===e._id,hideFlag:this.hideFlag,commentTextInputRef:this.props.commentTextInputRef,showVerificationMsg:this.props.showVerificationMsg,seoData:this.props.seoData,isHighlighted:this.state.highlightedId===e._id,level:n,followUser:this.props.followUser,isPrivateUser:this.props.isPrivateUser,isFollowee:this.props.followees&&-1!==this.props.followees.indexOf(e.user_detail&&e.user_detail._id?e.user_detail._id:"")},e._id)}},{key:"getBottomCommentItem",value:function(e){return yt(mt,{userData:this.props.userData,isUserLoggedin:this.props.isUserLoggedin,openLoginBox:this.openLoginBox,pageMsid:this.props.msid,id:e._id,renderCommentList:this.renderCommentList,renderUserIcon:this.renderUserIcon,data:e,onClick:this.showThread,isPrime:this.props.isPrime,openAddCommentBox:this.openAddCommentBox,putVote:this.onVote,flagHandler:this.onFlagClick,msid:this.props.msid,isPrivateUser:this.props.isPrivateUser},e._id)}},{key:"renderBottomComments",value:function(e){var t=this;return i.a.createElement(i.a.Fragment,null,e&&"function"==typeof e.filter&&e.filter(function(e){return e._id}).slice(0,3).map(function(e,o){return t.getBottomCommentItem(e,o)}))}},{key:"getBottomCommentItemV2",value:function(e){return yt(gt,{userData:this.props.userData,isUserLoggedin:this.props.isUserLoggedin,openLoginBox:this.openLoginBox,pageMsid:this.props.msid,id:e._id,renderCommentList:this.renderCommentList,renderUserIcon:this.renderUserIcon,data:e,onClick:this.showThread,isPrime:this.props.isPrime,openAddCommentBox:this.openAddCommentBox,putVote:this.onVote,flagHandler:this.onFlagClick,msid:this.props.msid,isPrivateUser:this.props.isPrivateUser},e._id)}},{key:"renderBottomCommentsV2",value:function(e){var t=this;return i.a.createElement(i.a.Fragment,null,e&&"function"==typeof e.filter&&e.filter(function(e){return e._id}).slice(0,4).map(function(e,o){return t.getBottomCommentItemV2(e,o)}))}},{key:"renderCommentList",value:function(e){var t=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=this.props.styles;return yt("ul",{className:i.comments_lists},void 0,e&&"function"==typeof e.filter&&e.filter(function(e){return e._id}).map(function(e,i){return t.getCommentItem(e,i,o,n)}))}},{key:"onSortClick",value:function(e){this.showChangeViewLoader();var t=e.target.value;this.props.onSortClick(t,this.hideChangeViewLoader),this.sortType=t}},{key:"renderSortOptions",value:function(e){return yt("select",{id:"sort","data-ga":"comment-sort-comment_section|msid_".concat(this.props.msid),onChange:this.onSortClick},void 0,e.map(function(e){return yt("option",{"data-type":e.label},e.label,e.label)}))}},{key:"renderError",value:function(){this.props.config.messages.login_required}},{key:"openLoginBox",value:function(){this.props.isUserLoggedin(this.props.userData)||this.props.toggleLoginBox(!0)}},{key:"renderLogin",value:function(){return yt("div",{},void 0,!this.props.isUserLoggedin(this.props.userData)&&yt("h3",{onClick:this.openLoginBox},void 0,"Login to add a comment"))}},{key:"getScrollHeight",value:function(){var e=document.documentElement.clientHeight;return this.props.isPrime?e:e-51}},{key:"loadMoreComments",value:function(){this.setState({showLoadMoreLoader:!0}),this.props.loadMoreComments(this.hideLoadMoreCommentsLoader)}},{key:"getSideBarHtml",value:function(e){var t=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,a=this.getNoCommentText(s);return yt("div",{className:e.comment_scroll},void 0,yt("div",{className:e.comment_topwrite},void 0,"4.0"!==this.props.commentModeration&&yt(ae,{shouldAlwaysShow:!0,userData:this.props.userData,openLoginBox:this.openLoginBox,isUserLoggedin:this.props.isUserLoggedin,handleAddComment:this.props.handleAddComment,pageMsid:this.props.msid,getMsid:void 0,getImmediateParent:void 0,getParentComment:void 0,renderUserIcon:this.renderUserIcon,disclaimer:this.props.disclaimer,styles:e,prime:this.props.isPrime,isWapView:this.props.isWapView,mainCommentBox:!0,showFixedHeader:this.state.showFixedHeader,hideFixedHeader:this.hideFixedHeader,commentTextInputRef:this.props.commentTextInputRef,showVerificationMsg:this.props.showVerificationMsg,seoData:this.props.seoData,isPrivateUser:this.props.isPrivateUser}),!this.props.isWapView&&!this.props.isPrime&&a&&yt("div",{className:e.noComment},void 0,a),this.props.isPrime&&s>0&&yt("span",{className:e.sortby},void 0,this.renderSortOptions(this.props.getSortTypeData())),this.state.showChangeViewLoader?yt("div",{className:e.loader},void 0,kt):i.a.createElement(i.a.Fragment,null,this.renderCommentList(o,n)),r&&i.a.createElement(i.a.Fragment,null,this.state.showLoadMoreLoader&&yt("div",{className:e.loader},void 0,xt),!this.state.showLoadMoreLoader&&!this.state.showChangeViewLoader&&yt("div",{className:e.loadmore,"data-ga":"comment-view_more-comment_section|msid_".concat(this.props.msid),onClick:function(e){return t.loadMoreComments(e)}},void 0,"View more comments"))))}},{key:"handleFixedHeader",value:function(){this.setState({showFixedHeader:!0,showFixedHeaderIcon:!1})}},{key:"renderSidebar",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t[0]&&t[0].totalcount||0;r>0&&t[0].topComment&&t[0].topComment.length>0&&(r-=t[0].topComment.length);var s=this.props.styles,a=!this.props.hideBottomComments&&(this.props.isWapView||Object(u.C)());return i.a.createElement(i.a.Fragment,null,yt("div",{className:"".concat(s.comment_header," ").concat(this.props.isTablet?s.ipad:"")},void 0,this.props.isPrime?"":"All ","Comments ",yt("span",{className:s.lightText},void 0,"(",r,")"),!this.props.isPrime&&!this.props.isWapView&&this.state.showFixedHeaderIcon&&yt("span",{"data-ga":"comment-add-comment_section|msid_".concat(this.props.msid),className:s.addcommentheader,onClick:function(t){return e.handleFixedHeader(t)}}),!this.props.isPrime&&r>0&&yt("span",{className:s.sortby},void 0,yt("label",{htmlFor:"sort",className:s.sortText},void 0," ","sort"),this.renderSortOptions(this.props.getSortTypeData())),yt("span",{className:s.close,onClick:function(t){return e.onSidebarOpenClose(t)}},void 0,"+")),a&&yt("div",{className:s.mobilecomment},void 0,this.getSideBarHtml(s,t,o,n,r)),!a&&yt(L.Scrollbars,{style:{height:this.getScrollHeight(),width:this.props.isPrime?430:425},universal:!0,onScrollStop:this.handleScrollStop},void 0,this.getSideBarHtml(s,t,o,n,r)))}},{key:"onSidebarOpenClose",value:function(e,t){var o="boolean"==typeof t&&t?t:!(this.props.sidebarOpenMsid===this.props.msid);o?Object(u.C)()&&!this.props.hideBottomComments||(document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden"):(document.body.style.overflow="",document.documentElement.style.overflow=""),this.props.openSidebar(o?this.props.msid:""),this.setState({showFixedHeader:!1,highlightedId:""})}},{key:"render",value:function(){var e=this,o=this.props.commentsData||[],n=o.length>0?o.length-1:0,r=o[0]&&o[0].totalcount||0;r>0&&o[0].topComment&&o[0].topComment.length>0&&(r-=o[0].topComment.length);var s=t.getSidebarStyles(),a=this.renderSidebar(o,{},r>n),c=this.props.styles;return yt("div",{className:"".concat(c.commentsContainer," ").concat(this.props.showBottomCommentsV2?c.CommentLB_Bottom:""),id:"comment-container-".concat(this.props.msid)},void 0,i.a.createElement(i.a.Fragment,null,!this.props.showBottomCommentsV2&&this.props.isTimelineVisible&&yt("div",{onClick:function(t){return e.showThread(t)}},void 0,yt(B.a,{stickyClass:c.sticky,outerContainerClass:c.commentsWrapper,offsetFromTop:450},void 0,yt("div",{className:"".concat(c.comment_title," ").concat(c.commentTicker," appOnlyComment")},void 0,r>0?yt("span",{className:c.lightText},void 0,r):yt("span",{className:c.lightText1},void 0,"+")))),this.props.showBottomCommentsV2&&i.a.createElement(i.a.Fragment,null,yt("div",{className:"".concat(c.comments_box," ").concat(n?c.bottom_inner_v2:c.noComments_v2," ").concat(this.props.isGrid2Col?"":c.col2)},void 0,0!==n?Dt:yt("div",{className:c.startConversation},void 0,"Start a Conversation"),this.renderBottomCommentsV2(o),yt("div",{className:"".concat(c.cmtbtnwrapper," ").concat(c.LBv2)},void 0,this.getPostCommentBtn(),this.getReadCommentsBtn(r)))),!this.props.showBottomCommentsV2&&!this.props.isTimelineVisible&&!this.props.hideBottomComments&&i.a.createElement(i.a.Fragment,null,!this.props.isTablet&&yt("div",{className:c.cmtbtnwrapper},void 0,this.getReadCommentsBtn(r),this.getPostCommentBtn()),!this.props.isWapView&&!this.props.isTablet&&!this.props.hideBottomComments&&yt("div",{className:c.comments_box},void 0,this.renderBottomComments(o)))),(!this.props.isTablet||this.props.hideBottomComments)&&yt(A,{pullRight:!0,transitions:!0,rootClassName:"".concat(c.root," ").concat(this.props.msid===this.props.sidebarOpenMsid?c.open:""),sidebarClassName:c.comment_sidebar,styles:s,sidebar:a,onSetOpen:this.onSidebarOpenClose,open:this.props.msid===this.props.sidebarOpenMsid}),!this.props.hideBottomComments&&(this.props.isTablet||this.props.isPrime&&this.props.isWapView)&&yt("div",{className:c.commentsipad},void 0,a))}}])&&_t(o.prototype,n),r&&_t(o,r),t}()).prototype,"onSortClick",[at],Object.getOwnPropertyDescriptor(dt.prototype,"onSortClick"),dt.prototype),St(dt.prototype,"loadMoreComments",[ct],Object.getOwnPropertyDescriptor(dt.prototype,"loadMoreComments"),dt.prototype),St(dt.prototype,"handleFixedHeader",[lt],Object.getOwnPropertyDescriptor(dt.prototype,"handleFixedHeader"),dt.prototype),St(dt.prototype,"onSidebarOpenClose",[pt],Object.getOwnPropertyDescriptor(dt.prototype,"onSidebarOpenClose"),dt.prototype),dt);Tt.defaultProps={userData:void 0,commentsData:void 0,isTimelineVisible:!1,postCommentText:void 0,readCommentsTxt:void 0,redirectBtnClick:!1,sidebarOpenMsid:"",openSidebar:function(){},isTablet:!1,isPrime:!1,isWapView:!1,showVerificationMsg:!1,seoData:{},commentIdHighlighted:-1,hideBottomComments:!1,followees:[],isPrivateUser:!0,commentModeration:"",showBottomCommentsV2:!1,isGrid2Col:!1};var Pt=Tt;function jt(e){return(jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function It(){return(It=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function Nt(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Et(e,t){return!t||"object"!==jt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function At(e){return(At=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bt(e,t){return(Bt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ft=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=Et(this,At(t).call(this))).state={},e}var o,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bt(e,t)}(t,i.a.Component),o=t,(n=[{key:"render",value:function(){return i.a.createElement(Pt,It({},this.props,{styles:_.a}))}}])&&Nt(o.prototype,n),r&&Nt(o,r),t}(),Lt=o(1541),Rt=o.n(Lt);function Vt(e){return(Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mt(){return(Mt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function Ut(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ht(e,t){return!t||"object"!==Vt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Wt(e){return(Wt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xt(e,t){return(Xt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var zt=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=Ht(this,Wt(t).call(this))).state={},e}var o,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xt(e,t)}(t,i.a.Component),o=t,(n=[{key:"render",value:function(){return i.a.createElement(Pt,Mt({},this.props,{styles:Rt.a,isPrime:!0}))}}])&&Ut(o.prototype,n),r&&Ut(o,r),t}();function Gt(e){var t=!1;return e&&e.isLoggedIn&&e.getUid()&&(t=!0),t}var qt,Kt=o(73);function Zt(e){return(Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yt(e){return function(e){if(Array.isArray(e)){for(var t=0,o=new Array(e.length);t<e.length;t++)o[t]=e[t];return o}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Jt(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)}return o}function Qt(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?Jt(Object(o),!0).forEach(function(t){$t(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Jt(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}function $t(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function eo(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function to(e){return(to=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function no(e,t){return(no=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var io=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t){return!t||"object"!==Zt(t)&&"function"!=typeof t?oo(e):t}(this,to(t).call(this))).loadMoreComments=function(t){var o=e.pageNum+1,n={msid:e.props.msid,pagenum:o},i=e.getSortConfig(e.sortConfig);e.pageNum=o,i&&(n=Qt({},i,{},n),e.props.getMoreComments(n,t))},e.putVote=function(o,n,i,r){var s=t.getVoteTypeId(n),a="https://myt.indiatimes.com/mytimes/addActivity",c={appKey:"TOI",parentCommentId:o,activityType:s.type,baseEntityType:"ARTICLE",objectType:"A",url:window.location.href};a+="?".concat(Object(ke.a)(c));l()(a,null,function(){Object(ke.c)(o,s.id,0,i),e.props.updateVoteCount({msid:r,commentId:o,voteType:n,voteCount:i})}),e.rateComment(o,s.id)},e.getComments=function(){return e.props.comments&&e.props.comments.commentsData?e.props.comments["commentsData-".concat(e.props.msid)]:[]},e.handleAddComment=function(t,o){var n=e.props.userData,i=n&&"function"==typeof n.getUid&&n.getUid(),r=Qt({},o?{fromname:o.name,fromaddress:o.email,userid:"",location:o.loc,imageurl:""}:{fromname:n.getFullName(),fromaddress:n.getEmail(),userid:n.getUid(),location:n.getCITY(),imageurl:n.getIcon()},{loggedstatus:i?1:0,roaltdetails:1,configid:41083278,urs:"",rotype:0}),s=Qt({},r,{},t,{},{url:Se.B+window.location.pathname});i||(s.verifyuser=1),e.validateComment(s,function(){y.b.sendCommentLiveEmail,s.pcode="TOI",e.props.postComment(s,e.handlePostCommentResponse.bind(oo(e)))})},e.getSortConfig=function(t){var o=Object(y.f)().filter(function(e){return e.label===t});if(e.sortConfig=t,e.pageNum=1,o.length)return o[0].queryParams},e.onSortClick=function(t,o){var n=e.getSortConfig(t);n&&e.handleSort(n,o)},e.followUser=function(t){e.props.followUser(t)},e.openSidebar=function(t){e.props.openSidebar(t),e.props.toggleNIC(!1)},e.onFlagComment=function(t,o){e.props.onFlagComment(t,o),e.rateComment(t.ofcommenteroid,103)},e.rateComment=function(e,t){Kt.a.get("/ratecomment_new.cms?opinionid=".concat(e,"&typeid=").concat(t,"&rateid=0"),{},"skipfeedengine")},e.state={showVerificationMsg:!1},e.handleSort.bind(oo(e)),e.pageNum=1,e.sortConfig="upvoted",e.isUserLoggedin=!1,e}var o,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&no(e,t)}(t,i.a.Component),o=t,r=[{key:"getVoteTypeId",value:function(e){var t={};return"AGREED"===e||100===parseInt(e,10)?t={type:"Agreed",id:"100"}:"DISAGREED"===e||101===parseInt(e,10)?t={type:"Disagreed",id:"101"}:103!==parseInt(e,10)&&"OFFENSIVE"!==e||(t={type:"OFFENSIVE",id:"103"}),t}}],(n=[{key:"componentDidMount",value:function(){this.loadComments(),!1===this.props.hasFolloweesData&&this.loadFollowees()}},{key:"componentDidUpdate",value:function(e){var t=this;this.props.msid!==e.msid&&(this.sortConfig="upvoted",this.loadComments()),setTimeout(function(){!1===t.props.hasFolloweesData&&t.loadFollowees()},0)}},{key:"loadFollowees",value:function(){var e=Gt(this.props.userData);e!==this.isUserLoggedin&&(this.props.loadFollowees(),this.isUserLoggedin=e)}},{key:"loadComments",value:function(){var e={msid:this.props.msid,pagenum:this.pageNum},t=this.getSortConfig(this.sortConfig);t&&(e=Qt({},t,{},e),this.props.getCommentsData(e))}},{key:"isValidRating",value:function(e,o,n,i){var r,s=this.props.userData,a=void 0===s?{}:s,c=y.b.messages,l=Gt(a),p=!0,d=t.getVoteTypeId(o),u=o.toUpperCase(),m=Object(ke.b)(i,d.id,0)||{},h=t.getVoteTypeId(m.typeid||m.offensiveId).type||"";h=h.toUpperCase();var f=m.offensiveId||"",g=t.getVoteTypeId(f).type||"";if(g=g.toUpperCase(),l&&e===a.getId())switch(p=!1,u){case y.a.AGREED:r=c.self_agree;break;case y.a.DISAGREED:r=c.self_disagree;break;case y.a.OFFENSIVE:r=c.self_offensive}else if(m.count&&m.count>0&&(u===h||u===g))switch(p=!1,u){case y.a.AGREED:r=c.already_agree;break;case y.a.DISAGREED:r=c.already_disagree;break;case y.a.OFFENSIVE:r=c.already_offensive}else m.count&&m.count>0&&(h===y.a.AGREED&&u===y.a.DISAGREED?(p=!1,r=c.cant_agree_disagree):h===y.a.DISAGREED&&u===y.a.AGREED?(p=!1,r=c.cant_agree_disagree):h===y.a.AGREED&&u===y.a.OFFENSIVE?(p=!1,r=c.cant_agree_offensive):g===y.a.OFFENSIVE&&u===y.a.AGREED&&(p=!1,r=c.cant_agree_offensive));return{isValid:p,errorMsg:r}}},{key:"createCommentObjectFromData",value:function(e){var t=this.props.userData,o=void 0===t?{}:t,n={_id:Date.now(),F_NAME:e.fromname,CITY:e.location,C_D:Date.now(),addedNow:1,C_T:e.message,AC_A_C:0,AC_D_C:0};return o.isLoggedIn&&o.getId()&&(n.A_ID=o.getId(),n.user_detail=n.user_detail||{},n.user_detail.thumb=o.getThumb()||"",n.user_detail.U_P_S=Object(u.B)()),n}},{key:"findParentCommentInData",value:function(e,t){for(var o,n=0;n<e.length;n+=1)if(e[n]._id){if(e[n]._id===t){o=e[n];break}if(e[n].CHILD&&e[n].CHILD.length&&(o=this.findParentCommentInData(e[n].CHILD,t)))break}else;return o}},{key:"handlePostCommentResponse",value:function(e,t){e.data&&e.data.toLowerCase();var o=this.props.userData;o&&"function"==typeof o.getUid&&o.getUid()?(this.addCommentToState(t),this.setState({showVerificationMsg:!1})):this.setState({showVerificationMsg:!0})}},{key:"addCommentToState",value:function(e){var t,o=this.createCommentObjectFromData(e),n=Object.assign([],this.getComments()),i=e.parentid;0===parseInt(i,10)?(Object(u.v)(n,1,o),n[0].totalcount+=1):((t=this.findParentCommentInData(n,i)).CHILD||(t.CHILD=[]),Object(u.v)(t.CHILD,1,o)),this.props.updateComments({msid:this.props.msid,comments:Yt(n)})}},{key:"validateComment",value:function(e,t){var o=this,n=Object(u.s)()+Object(y.d)().endpoint,i=Qt({},Object(y.d)().params,{},e);a.a.post(n,i).then(function(e){"duplicatecontent"===e.data||"abusivecontent"===e.data||t.call(o,null)}).catch()}},{key:"handleSort",value:function(e,t){var o=Qt({},e,{},{msid:this.props.msid,pagenum:this.pageNum});this.props.getCommentsData(o,t)}},{key:"render",value:function(){var e=this,t=this.props.isPrime?zt:Ft,o=Object(u.C)();return"3.0"===this.props.commentModeration?null:function(e,t,o,n){qt||(qt="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,r=arguments.length-3;if(t||0===r||(t={children:void 0}),1===r)t.children=n;else if(r>1){for(var s=new Array(r),a=0;a<r;a++)s[a]=arguments[a+3];t.children=s}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:qt,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}(t,{msid:this.props.msid,commentsData:this.getComments(),handleAddComment:this.handleAddComment,disclaimer:v,getSortTypeData:y.f,userData:this.props.userData,toggleLoginBox:function(t){return e.props.toggleLoginBox(t)},onSortClick:this.onSortClick,onFlagComment:this.onFlagComment,putVote:this.putVote,isValidRating:function(t,o,n,i){return e.isValidRating(t,o,n,i)},config:y.b,isUserLoggedin:Gt,isTimelineVisible:this.props.isTimelineVisible,postCommentText:this.props.postCommentText,readCommentsTxt:this.props.readCommentsTxt,redirectBtnClick:this.props.redirectBtnClick,isWapView:this.props.isWapView,openSidebar:this.openSidebar,sidebarOpenMsid:this.props.sidebarOpenMsid,loadMoreComments:this.loadMoreComments,isPrime:this.props.isPrime,isTablet:o,commentTextInputRef:this.props.commentTextInputRef,showVerificationMsg:this.state.showVerificationMsg,seoData:this.props.seoData,commentIdHighlighted:this.props.commentIdHighlighted,hideBottomComments:this.props.hideBottomComments,followUser:this.followUser,followees:this.props.followees,isPrivateUser:this.props.isPrivateUser,commentModeration:this.props.commentModeration,showBottomCommentsV2:this.props.showBottomCommentsV2,isGrid2Col:this.props.isGrid2Col})}}])&&eo(o.prototype,n),r&&eo(o,r),t}();io.defaultProps={userData:void 0,comments:void 0,isTimelineVisible:!1,postCommentText:void 0,readCommentsTxt:void 0,sidebarOpenMsid:"",redirectBtnClick:!1,isWapView:!1,isPrime:!1,commentTextInputRef:i.a.createRef(),toggleNIC:function(){},seoData:{},commentIdHighlighted:-1,hideBottomComments:!1,followees:[],isPrivateUser:!0,hasFolloweesData:!1,commentModeration:"",showBottomCommentsV2:!1,isGrid2Col:!1};t.default=Object(r.b)(function(e){return{comments:e.comments,userData:d()(e,"login.userData",{}),sidebarOpenMsid:e.commentscommon.sidebarOpen,commentIdHighlighted:e.commentscommon.commentIdHighlighted,followees:e.comments.followees,isPrivateUser:e.gdpr.isPrivateUser,hasFolloweesData:e.comments.hasFolloweesData}},function(e){return{getCommentsData:function(t,o){e(Object(f.b)(t,o))},getMoreComments:function(t,o){e(Object(f.c)(t,o))},postComment:function(t,o){e(Object(f.f)(t,o))},toggleLoginBox:function(t){e(Object(g.a)(t))},onFlagComment:function(t,o){e(Object(f.e)(t,o))},openSidebar:function(t){e(Object(m.a)(t))},updateVoteCount:function(t){e(Object(f.h)(t))},updateComments:function(t){e(Object(f.g)(t))},toggleNIC:function(t){e(Object(h.p)(t))},followUser:function(t){e(Object(f.a)(t))},loadFollowees:function(){e(Object(f.d)())}}})(io)},752:function(e,t,o){"use strict";o.d(t,"a",function(){return c});var n=o(30);function i(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)}return o}function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var s,a=(s="OPEN_SIDEBAR","toi/".concat("commentscommon","/").concat(s));function c(e,t){return{type:a,payload:{msid:e||"",commentId:t||""}}}n.a.register("commentscommon",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a:return function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?i(Object(o),!0).forEach(function(t){r(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}({},e,{sidebarOpen:t.payload.msid||"",commentIdHighlighted:t.payload.commentId||""});default:return e}})}}]);
//# sourceMappingURL=withcomments.35c5c65c.chunk.js.map