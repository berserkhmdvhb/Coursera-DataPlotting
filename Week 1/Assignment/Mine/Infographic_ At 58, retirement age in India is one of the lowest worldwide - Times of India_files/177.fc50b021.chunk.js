(window.webpackJsonp=window.webpackJsonp||[]).push([[177],{1177:function(e,t,n){"use strict";var r=new Promise(function(e){function t(){var n,r;e(!0),n="scroll",r=t,document.removeEventListener?document.removeEventListener(n,r):document.removeEvent&&document.removeEvent(n,r)}function n(){var n,r;-1!==document.addEventListener.toString().indexOf("[native code]")?window.canRun?e(!1):(n="scroll",r=t,document.addEventListener?document.addEventListener(n,r,!1):document.attachEvent&&document.attachEvent(n,r)):t()}if(!(""!==document.referrer&&document.referrer.indexOf("facebook.com")>-1||window.location.href&&window.location.href.indexOf("utm_source=facebook")>-1)){var r=new Image;r.onerror=function(){window.canRun=!1,n()},r.onload=function(){window.canRun=!0,n()},r.src="//static.toiimg.com/ad-banner-zedo/photo/27589586.cms"}});t.a=r},1530:function(e,t,n){e.exports={slider3d__inner:"_1HgNO",slider3d__rotater:"_3EVFT",mobile:"uidVz",toi_cube:"_3LiNY",container:"_2nlpW",openinapp:"lO-vf",innerContainer:"_3Ul92",cls_btn:"_1xvBd",active:"_4I6-m",closebtn:"tkw6P",slider3d:"f4Ma7","no-select":"_1Y3U2",slider3d__wrapper:"_3aduf",slider3d__item:"_1vidk",slider3d__heading:"_3OVxM","slider-ready":"_11qDS",branding:"_1KGm8",cube_header:"aHh_V",cube_content:"Awz-I",cube_news:"qhYUr",svg:"_2RvzJ",news_item:"_2DhKP"}},783:function(e,t,n){"use strict";n.r(t);var r,o=n(20),a=n.n(o),i=(n(10),n(510)),c=n.n(i),s=n(515),d=n(73),u=n(508),l=n(513),f=n(1177),p=n(514),m=n(1530),v=n.n(m);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t,n,o){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=o;else if(i>1){for(var c=new Array(i),s=0;s<i;s++)c[s]=arguments[s+3];t.children=c}if(t&&a)for(var d in a)void 0===t[d]&&(t[d]=a[d]);else t||(t=a||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var S=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=h(this,O(t).call(this,e))).fetchData=function(e){d.a.get(e,{},"skipfeedengine").catch(function(e){return console.log(e)}).then(function(e){var t=window.geoinfo?window.geoinfo.CountryCode:"";e&&200===e.status&&(e.data.geo&&(e.data.geo.indexOf(t)>-1||e.data.geo.indexOf("ALL")>-1)&&"1"===e.data.enable?(n.data=e.data,n.cards=n.data.cards,n.setState({enable:!0}),setTimeout(n.initSlider(),250)):n.disableCubeFor())})},n.disableCubeFor=function(){n.setExpiryTime(1/12)},n.renderCube=function(){var e=(new Date).getTime();try{var t=sessionStorage.getItem(n._const.storageName);if(t&&t<e||!t){var r,o=window.categoryForGA;r="/react_cube_config/feedtype-sjson".concat(n.props.isWapView?",ismobile-true":"",".cms?pagename=").concat(o),console.log(r),n.fetchData(r)}}catch(e){console.log(e)}},n.flipCube=function(){n.timer&&clearInterval(n.timer);var e=n.data.wait_duration?n.data.wait_duration:n._const.wait_duration;n.timer=setInterval(function(){n.rotating||n.navigateDown()},e)},n.clearFlipCube=function(){n.timer&&clearInterval(n.timer)},n.rotateSlider=function(e){n.rotating=!0;var t=n.currentAngle+e*n.angle,r={transform:"rotate".concat(n.axis,"(").concat(t*n.angleMult*-1,"deg)"),transition:"transform ".concat(n.props.speed/1e3,"s ").concat(n.props.easing)};n.setState({rotatersCss:r}),n.currentAngle=t,setTimeout(function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach(function(t){w(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},r);e.transition="transform 0s",n.setState({rotatersCss:e}),n.rotating=!1},n.props.speed)},n.navigateUp=function(){n.rotateSlider(-1)},n.navigateDown=function(){n.rotateSlider(1)},n.initSlider=function(){var e=n.cubeRef.current;if(e){n.numOfItems=n.cards.length,n.angle=360/n.numOfItems;var t=n.props.xRotation?e.offsetWidth:e.offsetHeight,r=t*n.props.persMult,o=t/2/Math.tan(n.angle/2*Math.PI/180),a={"-webkit-perspective":"".concat(r,"px"),perspective:"".concat(r,"px")},i={transform:"translateZ(-".concat(o,"px)")},c=n.cards.map(function(e,t){return{transform:"rotate".concat(n.axis,"(").concat(t*n.angle*n.angleMult,"deg) translateZ(").concat(o,"px)")}});n.setState({mounted:!0,wrapperCss:a,innerCSS:i,cardsCss:c}),n.flipCube()}},n.setExpiryTime=function(e){var t=n._const.MINS_IN_HR*n._const.SEC_IN_MIN*n._const.MILLISEC_IN_SEC,r=(new Date).getTime()+e*t;try{sessionStorage.setItem(n._const.storageName,r)}catch(e){console.log(e)}},n.clsBtnHandler=function(){var e=n.data.fcap_hours?parseInt(n.data.fcap_hours,10):24;n.setState({mounted:!1}),n.setExpiryTime(e);var t={gaCategory:"cross_cube",gaAction:window.location.href,gaLabel:""};n.fireGA(t)},n.renderAd=function(e){var t=n.props.isWapView?"mobile":"all";return g(s.a,{data:e.adData,deviceType:t,immediateLoad:!0})},n.fireGA=function(e){e&&Object(p.a)({ga:e})},n.renderNews=function(e){return g("div",{className:v.a.cube_news},void 0,g("h4",{},void 0,g("i",{className:v.a.svg})," news"),g("div",{className:v.a.news_item},void 0,g(u.a,{to:e.url,data:e.ga,target:"_blank"},void 0,e.title)))},n.renderContent=function(e){return e&&void 0!==e.isNews?n.renderNews(e):e&&void 0!==e.iframe?n.renderIframe(e):e&&void 0!==e.adData?n.renderAd(e):e&&void 0!==e.branding?n.renderBranding(e):e&&void 0!==e.openinapp?n.renderOpeninapp(e):e&&void 0!==e.title&&void 0!==e.url&&void 0!==e.img?n.renderBanner(e):null},n.renderBranding=function(e){return g("div",{className:v.a.branding},void 0,e.title)},n.renderOpeninapp=function(e){return g("div",{className:v.a.openinapp},void 0," ",g(u.a,{to:e.link,target:"_blank"},void 0,e.title))},n.renderBanner=function(e){return g(u.a,{to:e.url,data:e.ga,target:"_blank"},void 0,g(l.a,{title:e.title,caption:e.title,altTitle:e.title,src:e.img}))},n.renderIframe=function(e){return g("iframe",{frameBorder:"0",width:"100%",height:"100%",title:e.title,src:e.url})},n.getCards=function(e,t){return e.map(function(e,r){return g("div",{className:v.a.slider3d__item,style:t[r]},void 0,g("button",{type:"button",className:v.a.cls_btn,onClick:n.clsBtnHandler}),e.header&&g("div",{className:v.a.cube_header},void 0,n.renderContent(e.header)),e.content&&g("div",{className:v.a.cube_content},void 0,n.renderContent(e.content)),e.footer&&g("div",{className:v.a.cube_footer},void 0,n.renderContent(e.footer)))})},n.checkIfRenderNotRequired=function(){return!!("boolean"==typeof n.state.mounted&&!1===n.state.mounted||!n.state.enable||window&&window.TimesApps&&window.TimesApps.PopUpManager&&window.TimesApps.PopUpManager.isPopuMangerRunning())},n.cubeRef=a.a.createRef(),n.state={mounted:void 0,rotatersCss:{},wrapperCss:{},innerCSS:{},cardsCss:{},enable:!1},n.numOfItems=void 0,n.angle=void 0,n.currentAngle=0,n.rotating=!1,n._const={HRS_IN_DAY:24,MINS_IN_HR:60,SEC_IN_MIN:60,MILLISEC_IN_SEC:1e3,storageName:"cubeClosed",wait_duration:4e3},n.axis=n.props.xRotation?"Y":"X",n.angleMult=n.props.xRotation?1:-1,n.timer=!1,n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(t,a.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){var e=this;f.a.then(function(t){t||e.renderCube()})}},{key:"render",value:function(){var e,t;if(this.checkIfRenderNotRequired())return null;var n=this.props.isWapView,r=this.state,o=r.rotatersCss,i=r.wrapperCss,s=r.innerCSS,d=r.cardsCss,u=c()((w(e={},"".concat(v.a.slider3d),!0),w(e,"".concat(v.a.mobile),n),w(e,"".concat(v.a["slider-ready"]),this.state.mounted),e)),l=c()((w(t={},"".concat(v.a.container),!0),w(t,"".concat(v.a.mobile),n),t));return a.a.createElement(a.a.Fragment,null,g("div",{className:v.a.toi_cube},void 0,g("div",{className:v.a.innerContainer},void 0,a.a.createElement("div",{className:l,ref:this.cubeRef},g("div",{className:u},void 0,g("div",{className:v.a.slider3d__wrapper,style:i},void 0,g("div",{className:v.a.slider3d__inner,style:s},void 0,g("div",{className:v.a.slider3d__rotater,style:o},void 0,this.getCards(this.cards,d)))))))))}}])&&y(n.prototype,r),o&&y(n,o),t}();S.defaultProps={xRotation:!0,speed:1100,easing:"ease",persMult:1.6,isWapView:!1},t.default=S}}]);
//# sourceMappingURL=177.fc50b021.chunk.js.map